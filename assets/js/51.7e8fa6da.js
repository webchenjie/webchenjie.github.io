(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{477:function(t,s,a){"use strict";a.r(s);var e=a(2),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"_1、为什么需要编程规范"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、为什么需要编程规范"}},[t._v("#")]),t._v(" 1、为什么需要编程规范？")]),t._v(" "),s("p",[s("strong",[t._v("工欲善其事，必先利其器")])]),t._v(" "),s("p",[t._v("对于一些大型的企业级项目而言，通常情况下我们都是需要一个团队来进行开发的。而又因为团队人员对技术理解上的参差不齐，所以就会导致出现一种情况，那就是《"),s("strong",[t._v("一个项目无法具备统一的编程规范，导致项目的代码像多个不同材质的补丁拼接起来一样")]),t._v("》")]),t._v(" "),s("p",[t._v("设想一下，下面的这段代码有一个团队进行开发，因为没有具备统一的代码标准，所以生成了下面的代码：")]),t._v(" "),s("img",{staticStyle:{zoom:"67%"},attrs:{src:"/image/blogs/技术/20211218/blogs-技术-20211218-1.png"}}),t._v(" "),s("p",[t._v("这段代码可以正常运行没有问题，但是整体的代码结构却非常的难看。")]),t._v(" "),s("blockquote",[s("p",[t._v("有的地方有空格进行分割，有的地方却没有")]),t._v(" "),s("p",[t._v("有的地方是单引号，有的地方却是双引号")]),t._v(" "),s("p",[t._v("有的地方有分号，有的地方没有分号")]),t._v(" "),s("p",[t._v("....")])]),t._v(" "),s("p",[t._v("这样的项目虽然可以正常运行，但是如果把它放到大厂的项目中，确实 "),s("strong",[t._v("不及格")]),t._v(" 的，它会被认为是 "),s("strong",[t._v("不可维护、不可扩展的代码内容")])]),t._v(" "),s("p",[t._v("那么所谓的大厂标准的代码结构应该是什么样子的呢？")]),t._v(" "),s("p",[t._v("我们把上面的代码进行一下修正，做一个对比：")]),t._v(" "),s("img",{staticStyle:{zoom:"67%"},attrs:{src:"/image/blogs/技术/20211218/blogs-技术-20211218-2.png"}}),t._v(" "),s("p",[t._v("修改之后的代码具备了统一的规范之后，是不是看起来就舒服多了！")]),t._v(" "),s("p",[t._v("并且以上所列举出来的只是《编程规范》中的一小部分内容！")]),t._v(" "),s("p",[t._v("那么有些同学可能就会说了，你列举出来这些编程规范有什么用啊！")]),t._v(" "),s("p",[t._v("哪怕你写上一部书，我们一个团队这么多人，总不能指望所有人都看一遍，并且严格的遵守你所说的规范吧！")]),t._v(" "),s("p",[t._v("说的没错！指望人主动的遵守这些规范不太现实")]),t._v(" "),s("p",[t._v("那怎么办呢？")]),t._v(" "),s("p",[t._v("那么我们可不可以另辟蹊径，让程序自动处理规范化的内容呢？")]),t._v(" "),s("p",[t._v("答案是：可以的！")]),t._v(" "),s("p",[t._v("这些也是我们本章节所需要讲解的重点内容！")]),t._v(" "),s("p",[t._v("本章节中我们会为大家讲解，如何自动化的对代码进行规范，其中主要包括：")]),t._v(" "),s("ol",[s("li",[t._v("编码规范")]),t._v(" "),s("li",[t._v("git 规范")])]),t._v(" "),s("p",[t._v("两大类")]),t._v(" "),s("p",[t._v("那么明确好了我们的范围之后，接下来就让我们创建一个项目，开始我们的代码规范之旅吧！")]),t._v(" "),s("h2",{attrs:{id:"_2、使用-vue-cli-创建项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、使用-vue-cli-创建项目"}},[t._v("#")]),t._v(" 2、使用 vue-cli 创建项目")]),t._v(" "),s("p",[t._v("使用 vue-cli 创建项目")]),t._v(" "),s("p",[t._v("同学们，这一小节我们需要创建一个 "),s("code",[t._v("vue3")]),t._v(" 的项目，而创建项目的方式依然是通过 "),s("code",[t._v("vue-cli")]),t._v(" 进行创建。")]),t._v(" "),s("p",[t._v("不过这里有一点大家需要注意，因为我们需要使用最新的模板，所以请保证你的 "),s("code",[t._v("vue-cli")]),t._v(" 的版本在 "),s("code",[t._v("4.5.13")]),t._v(" 以上，你可以通过以下的方式来查看你的 "),s("code",[t._v("vue-cli")]),t._v(" 版本：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("vue -V\n------\n@vue/cli 4.5.13 // 输出版本号\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("如果你需要升级版本，那么可以通过以下指令进行升级：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("npm update -g @vue/cli\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("具体的方式也可以点击 "),s("a",{attrs:{href:"https://cli.vuejs.org/zh/guide/installation.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("这里"),s("OutboundLink")],1),t._v(" 进行参考。")]),t._v(" "),s("p",[t._v("升级之后，即可通过以下方式创建最新的 "),s("code",[t._v("vue3")]),t._v(" 项目，终端输入 "),s("code",[t._v("vue create 项目名称")]),t._v(" ，即可进入 "),s("strong",[t._v("模板选择")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 利用 vue-cli 创建项目")]),t._v("\nvue create imooc"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("admin\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 进入模板选择")]),t._v("\nVue "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CLI")]),t._v(" v4"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5.13")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" Please pick a preset"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Vue "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" babel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" eslint"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Vue "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Vue "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" babel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" eslint"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Manually select features  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 选择手动配置")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ----------------------------------------------------------")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" Check the features needed "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" your project"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Choose Vue version "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 选择 vue 版本")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Babel "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用 babel")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" TypeScript "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 不使用 ts")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Progressive Web "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("App")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PWA")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Support "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 不使用 PWA")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Router "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 添加 vue-router")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Vuex "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 添加 vuex")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CSS")]),t._v(" Pre"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("processors "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用 css 预处理器")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Linter "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" Formatter "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 代码格式化")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Unit Testing "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 不配置测试")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E2E")]),t._v(" Testing  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// // 不配置测试")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ----------------------------------------------------------")]),t._v("\n Choose a version "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" Vue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js that you want to start the project "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 选择 vue 3.0 版本")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ----------------------------------------------------------")]),t._v("\n Use history mode "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" router"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Requires proper server setup "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" index fallback "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" production"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("Y")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" n "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 不使用 history模式 的路由")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ----------------------------------------------------------")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" Pick a "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CSS")]),t._v(" pre"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("processor")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("PostCSS"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Autoprefixer and "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CSS")]),t._v(" Modules are supported by "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Sass"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SCSS")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" dart"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("sass"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用基于 dart-sass 的 scss 预处理器")]),t._v("\n  Sass"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SCSS")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" node"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("sass"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  Less\n  Stylus\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ----------------------------------------------------------")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" Pick a linter "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" formatter config"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n  ESLint "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" error prevention only\n  ESLint "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" Airbnb config\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" ESLint "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" Standard config "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用 ESLint 标准代码格式化方案")]),t._v("\n  ESLint "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" Prettier\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ----------------------------------------------------------")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" Pick additional lint features"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Lint on save "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Lint and fix on commit  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 保存时 && 提交时，都进行 lint")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ----------------------------------------------------------")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" Where "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" you prefer placing config "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" Babel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ESLint"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" etc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Use arrow keys"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" In dedicated config files "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 单独的配置文件")]),t._v("\n  In "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("json\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ----------------------------------------------------------")]),t._v("\n Save "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" a preset "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" future projects"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("y"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("N")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" n "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 不存储预设")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br"),s("span",{staticClass:"line-number"},[t._v("45")]),s("br"),s("span",{staticClass:"line-number"},[t._v("46")]),s("br"),s("span",{staticClass:"line-number"},[t._v("47")]),s("br"),s("span",{staticClass:"line-number"},[t._v("48")]),s("br")])]),s("p",[t._v("等待片刻之后，你的项目就会生成成功。")]),t._v(" "),s("p",[t._v("生成之后，可以通过以下两个指令来运行你的项目：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("cd 项目目录\nnpm run serve\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("执行成功之后，项目即可运行！")]),t._v(" "),s("h2",{attrs:{id:"_3、升级最新的-vue-版本以支持-script-setup-语法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3、升级最新的-vue-版本以支持-script-setup-语法"}},[t._v("#")]),t._v(" 3、升级最新的 vue 版本以支持 script setup 语法")]),t._v(" "),s("p",[t._v("因为使用 "),s("code",[t._v("@vue/cli-v4.5.13")]),t._v(" 版本创建的项目中，"),s("code",[t._v("vue")]),t._v(" 的版本为 "),s("code",[t._v("v 3.0.0")]),t._v(" 。")]),t._v(" "),s("p",[t._v("但是我们的项目需要使用最新的 "),s("code",[t._v("script setup 语法")]),t._v("，该语法在 "),s("code",[t._v("v 3.0.0")]),t._v(" 版本中是不支持的，所以我们需要升级 "),s("code",[t._v("vue")]),t._v(" 版本。")]),t._v(" "),s("p",[t._v("大家可以通过以下指令进行升级：")]),t._v(" "),s("p",[t._v("执行：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("npm i vue@"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.2")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".8")]),t._v(" vue"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("router@"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.0")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".11")]),t._v(" vuex@"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.0")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".2")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("升级之后，查看 "),s("code",[t._v("package.json")]),t._v(" 得到的版本应为：")]),t._v(" "),s("div",{staticClass:"language-json line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"vue"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^3.2.8"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"vue-router"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^4.0.11"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"vuex"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^4.0.2"')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("h2",{attrs:{id:"_4、大厂编程规范一-代码检测工具-eslint-你了解多少"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4、大厂编程规范一-代码检测工具-eslint-你了解多少"}},[t._v("#")]),t._v(" 4、大厂编程规范一：代码检测工具 ESLint 你了解多少？")]),t._v(" "),s("p",[t._v("在我们去创建项目的时候，脚手架工具已经帮助我们安装了 "),s("code",[t._v("ESLint")]),t._v(" 代码检测工具。")]),t._v(" "),s("p",[t._v("对于 "),s("code",[t._v("ESLint")]),t._v(" 的大名，同学们或多或少的应该都听说过，只不过有些同学可能了解的多一些，有些同学了解的少一些。")]),t._v(" "),s("p",[t._v("那么本小节我们就先来聊一下，这个赫赫有名的代码检测工具 "),s("code",[t._v("ESLint")])]),t._v(" "),s("p",[t._v("首先 "),s("code",[t._v("ESLint")]),t._v(" 是 "),s("code",[t._v("2013年6月")]),t._v(" 创建的一个开源项目，它的目标非常简单，只有一个，那就是 "),s("strong",[t._v("提供一个插件化的 "),s("code",[t._v("javascript")]),t._v(" 代码检测工具")]),t._v(" ，说白了就是做 "),s("strong",[t._v("代码格式检测使用的")])]),t._v(" "),s("p",[t._v("在咱们当前的项目中，包含一个 "),s("code",[t._v(".eslintrc.js")]),t._v(" 文件，这个文件就是 "),s("code",[t._v("eslint")]),t._v(" 的配置文件。")]),t._v(" "),s("p",[t._v("随着大家对代码格式的规范性越来越重视，"),s("code",[t._v("eslint")]),t._v(" 也逐渐被更多的人所接收，同时也有很多大厂在原有的 "),s("code",[t._v("eslint")]),t._v(" 规则基础之上进行了一些延伸。")]),t._v(" "),s("p",[t._v("我们在创建项目时，就进行过这样的选择：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" Pick a linter "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" formatter config"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n  ESLint "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" error prevention only "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 仅包含错误的 ESLint")]),t._v("\n  ESLint "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" Airbnb config "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Airbnb 的 ESLint 延伸规则")]),t._v("\n  ESLint "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" Standard config "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 标准的 ESLint 规则")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("p",[t._v("我们当前选择了 "),s("strong",[t._v("标准的 ESLint 规则")]),t._v(" ，那么接下来我们就在该规则之下，看一看 "),s("code",[t._v("ESLint")]),t._v(" 它的一些配置都有什么？")]),t._v(" "),s("p",[t._v("打开项目中的 "),s("code",[t._v(".eslintrc.js")]),t._v(" 文件")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ESLint 配置文件遵循 commonJS 的导出规则，所导出的对象就是 ESLint 的配置对象")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 文档：https://eslint.bootcss.com/docs/user-guide/configuring")]),t._v("\nmodule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 表示当前目录即为根目录，ESLint 规则将被限制到该目录下")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("root")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// env 表示启用 ESLint 检测的环境")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("env")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在 node 环境下启动 ESLint 检测")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("node")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ESLint 中基础配置需要继承的配置")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'plugin:vue/vue3-essential'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@vue/standard'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 解析器")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("parserOptions")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("parser")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'babel-eslint'")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 需要修改的启用规则及其各自的错误级别")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('/**\n     * 错误级别分为三种：\n     * "off" 或 0 - 关闭规则\n     * "warn" 或 1 - 开启规则，使用警告级别的错误：warn (不会导致程序退出)\n     * "error" 或 2 - 开启规则，使用错误级别的错误：error (当被触发的时候，程序会退出)\n     */')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("rules")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'no-console'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" process"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NODE_ENV")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'production'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'warn'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'off'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'no-debugger'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" process"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NODE_ENV")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'production'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'warn'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'off'")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br")])]),s("p",[t._v("那么到这里咱们已经大致的了解了"),s("code",[t._v(".eslintrc.js")]),t._v(" 文件，基于 "),s("code",[t._v("ESLint")]),t._v(" 如果我们出现不符合规范的代码格式时，那么就会得到一个对应的错误。")]),t._v(" "),s("p",[t._v("比如：")]),t._v(" "),s("blockquote",[s("p",[t._v("我们可以把 "),s("code",[t._v("Home.vue")]),t._v(" 中的 "),s("code",[t._v("name")]),t._v(" 属性值，由单引号改为双引号")])]),t._v(" "),s("p",[t._v("此时，只要我们一保存代码，那么就会得到一个对应的错误")]),t._v(" "),s("img",{staticStyle:{zoom:"67%"},attrs:{src:"/image/blogs/技术/20211218/blogs-技术-20211218-3.png"}}),t._v(" "),s("p",[t._v("这个错误表示：")]),t._v(" "),s("ol",[s("li",[t._v("此时我们触发了一个 《错误级别的错误》")]),t._v(" "),s("li",[t._v("触发该错误的位置是 在 "),s("code",[t._v("Home.vue")]),t._v(" 的第 13 行 第九列 中")]),t._v(" "),s("li",[t._v("错误描述为：字符串必须使用单引号")]),t._v(" "),s("li",[t._v("错误规则为："),s("code",[t._v("quotes")])])]),t._v(" "),s("p",[t._v("那么想要解决这个错误，通常情况下我们有两种方式：")]),t._v(" "),s("ol",[s("li",[t._v("按照 "),s("code",[t._v("ESLint")]),t._v(" 的要求修改代码")]),t._v(" "),s("li",[t._v("修改 "),s("code",[t._v("ESLint")]),t._v(" 的验证规则")])]),t._v(" "),s("p",[s("strong",[t._v("按照 "),s("code",[t._v("ESLint")]),t._v(" 的要求修改代码：")])]),t._v(" "),s("blockquote",[s("p",[t._v("在 "),s("code",[t._v("Home.vue")]),t._v(" 的第 13 行中把双引号改为单引号")])]),t._v(" "),s("p",[s("strong",[t._v("修改 "),s("code",[t._v("ESLint")]),t._v(" 的验证规则：")])]),t._v(" "),s("ol",[s("li",[s("p",[t._v("在 "),s("code",[t._v(".eslintrc.js")]),t._v(" 文件中，新增一条验证规则")]),t._v(" "),s("div",{staticClass:"language-json line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"quotes"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"error"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 默认")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"quotes"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"warn"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 修改为警告")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"quotes"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"off"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 修改不校验")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])])])]),t._v(" "),s("p",[t._v("那么这一小节，我们了解了 "),s("code",[t._v("vue-cli")]),t._v(" 创建 "),s("code",[t._v("vue3")]),t._v(" 项目时，"),s("code",[t._v("Standard config")]),t._v(" 的 "),s("code",[t._v("ESLint")]),t._v(" 配置，并且知道了如何解决 "),s("code",[t._v("ESLint")]),t._v(" 报错的问题。")]),t._v(" "),s("p",[t._v("但是一个团队中，人员的水平高低不齐，大量的 "),s("code",[t._v("ESLint")]),t._v(" 规则校验，会让很多的开发者头疼不已，从而大大影响了项目的开发进度。")]),t._v(" "),s("p",[t._v("试想一下，在你去完成项目代码的同时，还需要时时刻刻注意代码的格式问题，这将是一件多么痛苦的事情！")]),t._v(" "),s("p",[t._v("那么有没有什么办法，既可以保证 "),s("code",[t._v("ESLint")]),t._v(" 规则校验，又可以解决严苛的格式规则导致的影响项目进度的问题呢？")]),t._v(" "),s("p",[t._v("欲知后事如何，请听下一节《"),s("code",[t._v("Prettier")]),t._v(" ，让你的代码变得更漂亮！》")]),t._v(" "),s("h2",{attrs:{id:"_5、大厂编程规范二-你知道代码格式化-prettier-吗"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5、大厂编程规范二-你知道代码格式化-prettier-吗"}},[t._v("#")]),t._v(" 5、大厂编程规范二：你知道代码格式化 Prettier 吗？")]),t._v(" "),s("p",[t._v("在上一小节中，我们知道了 "),s("code",[t._v("ESLint")]),t._v(" 可以让我们的代码格式变得更加规范，但是同样的它也会带来开发时编码复杂度上升的问题。")]),t._v(" "),s("p",[t._v("那么有没有办法既可以保证 "),s("code",[t._v("ESLint")]),t._v(" 规则校验，又可以让开发者无需关注格式问题来进行顺畅的开发呢？")]),t._v(" "),s("p",[t._v("答案是：有的！")]),t._v(" "),s("p",[t._v("而解决这个问题的关键就是 "),s("code",[t._v("prettier")]),t._v("！（点击 "),s("a",{attrs:{href:"https://www.prettier.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("这里"),s("OutboundLink")],1),t._v(" 进入 "),s("code",[t._v("prettier")]),t._v(" 中文官网！）")]),t._v(" "),s("p",[s("strong",[s("code",[t._v("prettier")]),t._v(" 是什么？")])]),t._v(" "),s("ol",[s("li",[t._v("一个代码格式化工具")]),t._v(" "),s("li",[t._v("开箱即用")]),t._v(" "),s("li",[t._v("可以直接集成到 "),s("code",[t._v("VSCode")]),t._v(" 之中")]),t._v(" "),s("li",[t._v("在保存时，让代码直接符合 "),s("code",[t._v("ESLint")]),t._v(" 标准（需要通过一些简单配置）")])]),t._v(" "),s("p",[t._v("那么这些简单配置具体指的是什么呢？")]),t._v(" "),s("p",[t._v("请看下一小节《ESLint 与 Prettier 配合解决代码格式问题》")]),t._v(" "),s("h2",{attrs:{id:"_6、eslint-与-prettier-配合解决代码格式问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6、eslint-与-prettier-配合解决代码格式问题"}},[t._v("#")]),t._v(" 6、ESLint 与 Prettier 配合解决代码格式问题")]),t._v(" "),s("p",[t._v("在上一小节中，我们提到《"),s("code",[t._v("prettier")]),t._v(" 可以在保存代码时，让我们的代码直接符合 "),s("code",[t._v("ESLint")]),t._v(" 标准》但是想要实现这样的功能需要进行一些配置。")]),t._v(" "),s("p",[t._v("那么这一小节，我们就来去完成这个功能：")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("在 "),s("code",[t._v("VSCode")]),t._v(" 中安装 "),s("code",[t._v("prettier")]),t._v(" 插件（搜索 "),s("code",[t._v("prettier")]),t._v("），这个插件可以帮助我们在配置 "),s("code",[t._v("prettier")]),t._v(" 的时候获得提示\n"),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"/image/blogs/技术/20211218/blogs-技术-20211218-4.png"}})])]),t._v(" "),s("li",[s("p",[t._v("在项目中新建 "),s("code",[t._v(".prettierrc")]),t._v(" 文件，该文件为 "),s("code",[t._v("perttier")]),t._v(" 默认配置文件")])]),t._v(" "),s("li",[s("p",[t._v("在该文件中写入如下配置：")]),t._v(" "),s("div",{staticClass:"language-json line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 不尾随分号")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"semi"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用单引号")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"singleQuote"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 多行逗号分割的语法中，最后一行不加逗号")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"trailingComma"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"none"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("打开 "),s("code",[t._v("VSCode")]),t._v(" 《设置面板》\n"),s("img",{staticStyle:{zoom:"67%"},attrs:{src:"/image/blogs/技术/20211218/blogs-技术-20211218-5.png"}})])]),t._v(" "),s("li",[s("p",[t._v("在设置中，搜索 "),s("code",[t._v("save")]),t._v(" ，勾选 "),s("code",[t._v("Format On Save")]),t._v(" "),s("img",{staticStyle:{zoom:"67%"},attrs:{src:"/image/blogs/技术/20211218/blogs-技术-20211218-6.png"}})])])]),t._v(" "),s("p",[t._v("至此，你即可在 "),s("strong",[s("code",[t._v("VSCode")]),t._v(" 保存时，自动格式化代码！")])]),t._v(" "),s("p",[s("strong",[t._v("但是！")]),t._v(" 你只做到这样还不够！")]),t._v(" "),s("blockquote",[s("ol",[s("li",[s("p",[t._v("VSCode 而言，默认一个 tab 等于 4 个空格，而 ESLint 希望一个 tab 为两个空格")])]),t._v(" "),s("li",[s("p",[t._v("如果大家的 VSCode 安装了多个代码格式化工具的化")])]),t._v(" "),s("li",[s("p",[t._v("ESLint 和 prettier 之间的冲突问题")])])])]),t._v(" "),s("p",[t._v("我们尝试在 "),s("code",[t._v("Home.vue")]),t._v(" 中写入一个 "),s("code",[t._v("created")]),t._v(" 方法，写入完成之后，打开我们的控制台我们会发现，此时代码抛出了一个 "),s("code",[t._v("ESLint")]),t._v(" 的错误")]),t._v(" "),s("img",{staticStyle:{zoom:"67%"},attrs:{src:"/image/blogs/技术/20211218/blogs-技术-20211218-7.png"}}),t._v(" "),s("p",[t._v("这个错误的意思是说："),s("strong",[s("code",[t._v("created")]),t._v(" 这个方法名和后面的小括号之间，应该有一个空格！")])]),t._v(" "),s("p",[t._v("但是当我们加入了这个空格之后，只要一保存代码，就会发现 "),s("code",[t._v("prettier")]),t._v(" 会自动帮助我们去除掉这个空格。")]),t._v(" "),s("p",[t._v("那么此时的这个问题就是 "),s("code",[t._v("prettier")]),t._v(" 和 "),s("code",[t._v("ESLint")]),t._v(" 的冲突问题。")]),t._v(" "),s("p",[t._v("针对于这个问题我们想要解决也非常简单：")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("打开 "),s("code",[t._v(".eslintrc.js")]),t._v(" 配置文件")])]),t._v(" "),s("li",[s("p",[t._v("在 "),s("code",[t._v("rules")]),t._v(" 规则下，新增一条规则")]),t._v(" "),s("div",{staticClass:"language-json line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[t._v("'space-before-function-paren'"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 'off'\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("该规则表示关闭《方法名后增加空格》的规则")])]),t._v(" "),s("li",[s("p",[t._v("重启项目")])])]),t._v(" "),s("p",[t._v("至此我们整个的 "),s("code",[t._v("perttier")]),t._v(" 和 "),s("code",[t._v("ESLint")]),t._v(" 的配合使用就算是全部完成了。")]),t._v(" "),s("p",[t._v("在之后我们写代码的过程中，只需要保存代码，那么 "),s("code",[t._v("perttier")]),t._v(" 就会帮助我们自动格式化代码，使其符合 "),s("code",[t._v("ESLint")]),t._v(" 的校验规则。而无需我们手动进行更改了。")]),t._v(" "),s("h2",{attrs:{id:"_7、大厂编程规范三-约定式提交规范"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7、大厂编程规范三-约定式提交规范"}},[t._v("#")]),t._v(" 7、大厂编程规范三：约定式提交规范")]),t._v(" "),s("p",[t._v("在前面我们通过 "),s("code",[t._v("prettier + ESLint")]),t._v(" 解决了代码格式的问题，但是我们之前也说过 "),s("strong",[t._v("编程规范")]),t._v(" 指的可不仅仅只是 "),s("strong",[t._v("代码格式规范")]),t._v(" 。")]),t._v(" "),s("p",[t._v("除了 "),s("strong",[t._v("代码格式规范")]),t._v(" 之外，还有另外一个很重要的规范就是 "),s("strong",[s("code",[t._v("git")]),t._v(" 提交规范！")])]),t._v(" "),s("p",[t._v("在现在的项目开发中，通常情况下，我们都会通过 "),s("code",[t._v("git")]),t._v(" 来管理项目。只要通过 "),s("code",[t._v("git")]),t._v(" 来管理项目，那么就必然会遇到使用 "),s("code",[t._v("git")]),t._v(" 提交代码的场景")]),t._v(" "),s("p",[t._v("当我们执行 "),s("code",[t._v('git commit -m "描述信息"')]),t._v(" 的时候，我们知道此时必须添加一个描述信息。但是中华文化博大精深，不同的人去填写描述信息的时候，都会根据自己的理解来进行描述。")]),t._v(" "),s("p",[t._v("而很多人的描述 “天马行空” ，这样就会导致别人在看你的提交记录时，看不懂你说的什么意思？不知道你当前的这次提交到底做了什么事情？会不会存在潜在的风险？")]),t._v(" "),s("p",[t._v("比如说，我们来看这几条提交记录：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/image/blogs/%E6%8A%80%E6%9C%AF/20211218/blogs-%E6%8A%80%E6%9C%AF-20211218-8.png",alt:"image-20210904203051754"}})]),t._v(" "),s("p",[t._v("你能够想象得到它们经历了什么吗？")]),t._v(" "),s("p",[t._v("所以 "),s("strong",[s("code",[t._v("git")]),t._v(" 提交规范")]),t._v(" 势在必行。")]),t._v(" "),s("p",[t._v("对于 "),s("strong",[s("code",[t._v("git")]),t._v(" 提交规范")]),t._v(" 来说，不同的团队可能会有不同的标准，那么咱们今天就以目前使用较多的 "),s("a",{attrs:{href:"https://github.com/angular/angular.js/blob/master/DEVELOPERS.md#-git-commit-guidelines",target:"_blank",rel:"noopener noreferrer"}},[t._v("Angular 团队规范"),s("OutboundLink")],1),t._v(" 延伸出的 "),s("a",{attrs:{href:"https://www.conventionalcommits.org/zh-hans/v1.0.0/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Conventional Commits specification（约定式提交）"),s("OutboundLink")],1),t._v(" 为例，来为大家详解 "),s("strong",[s("code",[t._v("git")]),t._v(" 提交规范")])]),t._v(" "),s("p",[t._v("约定式提交规范要求如下：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("optional scope"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("description"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("optional body"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("optional "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("footer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("  翻译 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("类型"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("可选 范围"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("描述"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("可选 正文"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("可选 脚注"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br")])]),s("p",[t._v("其中 "),s("code",[t._v("<type>")]),t._v(" 类型，必须是一个可选的值，比如：")]),t._v(" "),s("ol",[s("li",[t._v("新功能："),s("code",[t._v("feat")])]),t._v(" "),s("li",[t._v("修复："),s("code",[t._v("fix")])]),t._v(" "),s("li",[t._v("文档变更："),s("code",[t._v("docs")])]),t._v(" "),s("li",[t._v("....")])]),t._v(" "),s("p",[t._v("也就是说，如果要按照 "),s("strong",[t._v("约定式提交规范")]),t._v(" 来去做的化，那么你的一次提交描述应该式这个样子的：")]),t._v(" "),s("img",{attrs:{src:"/image/blogs/技术/20211218/blogs-技术-20211218-9.png"}}),t._v(" "),s("p",[t._v("我想大家看到这样的一个提交描述之后，心里的感觉应该和我一样是崩溃的！要是每次都这么写，写到猴年马月了！")]),t._v(" "),s("p",[t._v("如果你有这样的困惑，那么 ”恭喜你“ ，接下来我们将一起解决这个问题！")]),t._v(" "),s("p",[t._v("欲知后事如何，请看下一节《Commitizen 助你规范化提交代码》")]),t._v(" "),s("h2",{attrs:{id:"_8、commitizen-助你规范化提交代码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8、commitizen-助你规范化提交代码"}},[t._v("#")]),t._v(" 8、Commitizen 助你规范化提交代码")]),t._v(" "),s("p",[t._v("在上一小节我们讲述了 "),s("a",{attrs:{href:"https://www.conventionalcommits.org/zh-hans/v1.0.0/",target:"_blank",rel:"noopener noreferrer"}},[t._v("约定式提交规范"),s("OutboundLink")],1),t._v(" ，我们知道如果严格安装 "),s("strong",[t._v("约定式提交规范")]),t._v("， 来手动进行代码提交的话，那么是一件非常痛苦的事情，但是 "),s("strong",[t._v("git 提交规范的处理")]),t._v(" 又势在必行，那么怎么办呢？")]),t._v(" "),s("p",[t._v("你遇到的问题，也是其他人所遇到的！")]),t._v(" "),s("p",[t._v("经过了很多人的冥思苦想，就出现了一种叫做 "),s("strong",[t._v("git 提交规范化工具")]),t._v(" 的东西，而我们要学习的 "),s("code",[t._v("commitizen")]),t._v(" 就是其中的佼佼者！")]),t._v(" "),s("p",[s("code",[t._v("commitizen")]),t._v(" 仓库名为 "),s("a",{attrs:{href:"https://github.com/commitizen/cz-cli",target:"_blank",rel:"noopener noreferrer"}},[t._v("cz-cli"),s("OutboundLink")],1),t._v(" ，它提供了一个 "),s("code",[t._v("git cz")]),t._v(" 的指令用于代替 "),s("code",[t._v("git commit")]),t._v("，简单一句话介绍它：")]),t._v(" "),s("blockquote",[s("p",[t._v("当你使用 "),s("code",[t._v("commitizen")]),t._v(" 进行代码提交（git commit）时，"),s("code",[t._v("commitizen")]),t._v(" 会提交你在提交时填写所有必需的提交字段！")])]),t._v(" "),s("p",[t._v("这句话怎么解释呢？不用着急，下面我们就来安装并且使用一下 "),s("code",[t._v("commitizen")]),t._v(" ，使用完成之后你自然就明白了这句话的意思！")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("全局安装"),s("code",[t._v("Commitizen")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("npm install "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("g commitizen@"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.2")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".4")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("安装并配置 "),s("code",[t._v("cz-customizable")]),t._v(" 插件")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("使用 "),s("code",[t._v("npm")]),t._v(" 下载 "),s("code",[t._v("cz-customizable")])]),t._v(" "),s("div",{staticClass:"language-node line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("npm i cz-customizable@6.3.0 --save-dev\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("添加以下配置到 "),s("code",[t._v("package.json")]),t._v(" 中")]),t._v(" "),s("div",{staticClass:"language-json line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[t._v("...\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"config"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"commitizen"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"path"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node_modules/cz-customizable"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])])])])]),t._v(" "),s("li",[s("p",[t._v("项目根目录下创建 "),s("code",[t._v(".cz-config.js")]),t._v(" 自定义提示文件")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 可选类型")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("types")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'feat'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'feat:     新功能'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fix'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fix:      修复'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'docs'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'docs:     文档变更'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'style'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'style:    代码格式(不影响代码运行的变动)'")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'refactor'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'refactor: 重构(既不是增加feature，也不是修复bug)'")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'perf'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'perf:     性能优化'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test:     增加测试'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'chore'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'chore:    构建过程或辅助工具的变动'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'revert'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'revert:   回退'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'build'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'build:    打包'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 消息步骤")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("messages")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'请选择提交类型:'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("customScope")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'请输入修改范围(可选):'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("subject")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'请简要描述提交(必填):'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("body")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'请输入详细描述(可选):'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("footer")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'请输入要关闭的issue(可选):'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("confirmCommit")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'确认使用以上信息提交？(y/n/e/h)'")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 跳过问题")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("skipQuestions")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'body'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'footer'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// subject文字长度默认是72")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("subjectLimit")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("72")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("使用 "),s("code",[t._v("git cz")]),t._v(" 代替 "),s("code",[t._v("git commit")]),t._v("\n使用 "),s("code",[t._v("git cz")]),t._v(" 代替 "),s("code",[t._v("git commit")]),t._v("，即可看到提示内容")])])]),t._v(" "),s("p",[t._v("那么到这里我们就已经可以使用"),s("code",[t._v("git cz")]),t._v(" 来代替了 "),s("code",[t._v("git commit")]),t._v(" 实现了规范化的提交诉求了，但是当前依然存在着一个问题，那就是我们必须要通过 "),s("code",[t._v("git cz")]),t._v(" 指令才可以完成规范化提交！")]),t._v(" "),s("p",[t._v("那么如果有马虎的同事，它们忘记了使用 "),s("code",[t._v("git cz")]),t._v(" 指令，直接就提交了怎么办呢？")]),t._v(" "),s("p",[t._v("那么有没有方式来限制这种错误的出现呢？")]),t._v(" "),s("p",[t._v("答案是有的！")]),t._v(" "),s("p",[t._v("下一节我们来看 《什么是 Git Hooks》")]),t._v(" "),s("h2",{attrs:{id:"_9、什么是-git-hooks"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9、什么是-git-hooks"}},[t._v("#")]),t._v(" 9、什么是 Git Hooks")]),t._v(" "),s("p",[t._v("上一小节中我们使用了 "),s("code",[t._v("git cz")]),t._v(" 来代替了 "),s("code",[t._v("git commit")]),t._v(" 实现了规范化的提交诉求，但是依然存在着有人会忘记使用的问题。")]),t._v(" "),s("p",[t._v("那么这一小节我们就来看一下这样的问题，我们应该如何去进行解决。")]),t._v(" "),s("p",[t._v("先来明确一下我们最终要实现的效果：")]),t._v(" "),s("blockquote",[s("p",[t._v("我们希望：")]),t._v(" "),s("p",[t._v("当《提交描述信息》不符合 "),s("a",{attrs:{href:"https://www.conventionalcommits.org/zh-hans/v1.0.0/",target:"_blank",rel:"noopener noreferrer"}},[t._v("约定式提交规范"),s("OutboundLink")],1),t._v(" 的时候，阻止当前的提交，并抛出对应的错误提示")])]),t._v(" "),s("p",[t._v("而要实现这个目的，我们就需要先来了解一个概念，叫做 "),s("code",[t._v("Git hooks（git 钩子 || git 回调方法）")])]),t._v(" "),s("p",[t._v("也就是："),s("strong",[s("code",[t._v("git")]),t._v(" 在执行某个事件之前或之后进行一些其他额外的操作")])]),t._v(" "),s("p",[t._v("而我们所期望的 "),s("strong",[t._v("阻止不合规的提交消息")]),t._v("，那么就需要使用到 "),s("code",[t._v("hooks")]),t._v(" 的钩子函数。")]),t._v(" "),s("p",[t._v("下面是我整理出来的所有的 "),s("code",[t._v("hooks")]),t._v(" ，大家可以进行一下参考，其中加粗的是常用到的 "),s("code",[t._v("hooks")]),t._v("：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("Git Hook")]),t._v(" "),s("th",[t._v("调用时机")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("pre-applypatch")]),t._v(" "),s("td",[s("code",[t._v("git am")]),t._v("执行前")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("applypatch-msg")]),t._v(" "),s("td",[s("code",[t._v("git am")]),t._v("执行前")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("post-applypatch")]),t._v(" "),s("td",[s("code",[t._v("git am")]),t._v("执行后")]),t._v(" "),s("td",[t._v("不影响"),s("code",[t._v("git am")]),t._v("的结果")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("pre-commit")])]),t._v(" "),s("td",[s("code",[t._v("git commit")]),t._v("执行前")]),t._v(" "),s("td",[t._v("可以用"),s("code",[t._v("git commit --no-verify")]),t._v("绕过")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("commit-msg")])]),t._v(" "),s("td",[s("code",[t._v("git commit")]),t._v("执行前")]),t._v(" "),s("td",[t._v("可以用"),s("code",[t._v("git commit --no-verify")]),t._v("绕过")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("post-commit")]),t._v(" "),s("td",[s("code",[t._v("git commit")]),t._v("执行后")]),t._v(" "),s("td",[t._v("不影响"),s("code",[t._v("git commit")]),t._v("的结果")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("pre-merge-commit")]),t._v(" "),s("td",[s("code",[t._v("git merge")]),t._v("执行前")]),t._v(" "),s("td",[t._v("可以用"),s("code",[t._v("git merge --no-verify")]),t._v("绕过。")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("prepare-commit-msg")]),t._v(" "),s("td",[s("code",[t._v("git commit")]),t._v("执行后，编辑器打开之前")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("pre-rebase")]),t._v(" "),s("td",[s("code",[t._v("git rebase")]),t._v("执行前")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("post-checkout")]),t._v(" "),s("td",[s("code",[t._v("git checkout")]),t._v("或"),s("code",[t._v("git switch")]),t._v("执行后")]),t._v(" "),s("td",[t._v("如果不使用"),s("code",[t._v("--no-checkout")]),t._v("参数，则在"),s("code",[t._v("git clone")]),t._v("之后也会执行。")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("post-merge")]),t._v(" "),s("td",[s("code",[t._v("git commit")]),t._v("执行后")]),t._v(" "),s("td",[t._v("在执行"),s("code",[t._v("git pull")]),t._v("时也会被调用")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("pre-push")]),t._v(" "),s("td",[s("code",[t._v("git push")]),t._v("执行前")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("pre-receive")]),t._v(" "),s("td",[s("code",[t._v("git-receive-pack")]),t._v("执行前")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("update")]),t._v(" "),s("td"),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("post-receive")]),t._v(" "),s("td",[s("code",[t._v("git-receive-pack")]),t._v("执行后")]),t._v(" "),s("td",[t._v("不影响"),s("code",[t._v("git-receive-pack")]),t._v("的结果")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("post-update")]),t._v(" "),s("td",[t._v("当 "),s("code",[t._v("git-receive-pack")]),t._v("对 "),s("code",[t._v("git push")]),t._v(" 作出反应并更新仓库中的引用时")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("push-to-checkout")]),t._v(" "),s("td",[t._v("当``git-receive-pack"),s("code",[t._v("对")]),t._v("git push"),s("code",[t._v("做出反应并更新仓库中的引用时，以及当推送试图更新当前被签出的分支且")]),t._v("receive.denyCurrentBranch"),s("code",[t._v("配置被设置为")]),t._v("updateInstead`时")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("pre-auto-gc")]),t._v(" "),s("td",[s("code",[t._v("git gc --auto")]),t._v("执行前")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("post-rewrite")]),t._v(" "),s("td",[t._v("执行"),s("code",[t._v("git commit --amend")]),t._v("或"),s("code",[t._v("git rebase")]),t._v("时")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("sendemail-validate")]),t._v(" "),s("td",[s("code",[t._v("git send-email")]),t._v("执行前")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("fsmonitor-watchman")]),t._v(" "),s("td",[t._v("配置"),s("code",[t._v("core.fsmonitor")]),t._v("被设置为"),s("code",[t._v(".git/hooks/fsmonitor-watchman")]),t._v("或"),s("code",[t._v(".git/hooks/fsmonitor-watchmanv2")]),t._v("时")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("p4-pre-submit")]),t._v(" "),s("td",[s("code",[t._v("git-p4 submit")]),t._v("执行前")]),t._v(" "),s("td",[t._v("可以用"),s("code",[t._v("git-p4 submit --no-verify")]),t._v("绕过")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("p4-prepare-changelist")]),t._v(" "),s("td",[s("code",[t._v("git-p4 submit")]),t._v("执行后，编辑器启动前")]),t._v(" "),s("td",[t._v("可以用"),s("code",[t._v("git-p4 submit --no-verify")]),t._v("绕过")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("p4-changelist")]),t._v(" "),s("td",[s("code",[t._v("git-p4 submit")]),t._v("执行并编辑完"),s("code",[t._v("changelist message")]),t._v("后")]),t._v(" "),s("td",[t._v("可以用"),s("code",[t._v("git-p4 submit --no-verify")]),t._v("绕过")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("p4-post-changelist")]),t._v(" "),s("td",[s("code",[t._v("git-p4 submit")]),t._v("执行后")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("post-index-change")]),t._v(" "),s("td",[t._v("索引被写入到"),s("code",[t._v("read-cache.c do_write_locked_index")]),t._v("后")]),t._v(" "),s("td")])])]),t._v(" "),s("p",[t._v("PS：详细的 "),s("code",[t._v("HOOKS介绍")]),t._v(" 可点击"),s("a",{attrs:{href:"https://git-scm.com/docs/githooks",target:"_blank",rel:"noopener noreferrer"}},[t._v("这里"),s("OutboundLink")],1),t._v("查看")]),t._v(" "),s("p",[t._v("整体的 "),s("code",[t._v("hooks")]),t._v(" 非常多，当时我们其中用的比较多的其实只有两个：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("Git Hook")]),t._v(" "),s("th",[t._v("调用时机")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("pre-commit")])]),t._v(" "),s("td",[s("code",[t._v("git commit")]),t._v("执行前"),s("br"),t._v("它不接受任何参数，并且在获取提交日志消息并进行提交之前被调用。脚本"),s("code",[t._v("git commit")]),t._v("以非零状态退出会导致命令在创建提交之前中止。")]),t._v(" "),s("td",[t._v("可以用"),s("code",[t._v("git commit --no-verify")]),t._v("绕过")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("commit-msg")])]),t._v(" "),s("td",[s("code",[t._v("git commit")]),t._v("执行前"),s("br"),t._v("可用于将消息规范化为某种项目标准格式。"),s("br"),t._v("还可用于在检查消息文件后拒绝提交。")]),t._v(" "),s("td",[t._v("可以用"),s("code",[t._v("git commit --no-verify")]),t._v("绕过")])])])]),t._v(" "),s("p",[t._v("简单来说这两个钩子：")]),t._v(" "),s("ol",[s("li",[s("code",[t._v("commit-msg")]),t._v("：可以用来规范化标准格式，并且可以按需指定是否要拒绝本次提交")]),t._v(" "),s("li",[s("code",[t._v("pre-commit")]),t._v("：会在提交前被调用，并且可以按需指定是否要拒绝本次提交")])]),t._v(" "),s("p",[t._v("而我们接下来要做的关键，就在这两个钩子上面。")]),t._v(" "),s("h2",{attrs:{id:"_10、使用-husky-commitlint-检查提交描述是否符合规范要求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_10、使用-husky-commitlint-检查提交描述是否符合规范要求"}},[t._v("#")]),t._v(" 10、使用 husky + commitlint 检查提交描述是否符合规范要求")]),t._v(" "),s("p",[t._v("在上一小节中，我们了解了 "),s("code",[t._v("git hooks")]),t._v(" 的概念，那么接下来我们就使用 "),s("code",[t._v("git hooks")]),t._v(" 来去校验我们的提交信息。")]),t._v(" "),s("p",[t._v("要完成这么个目标，那么我们需要使用两个工具：")]),t._v(" "),s("ol",[s("li",[s("p",[s("a",{attrs:{href:"https://github.com/conventional-changelog/commitlint",target:"_blank",rel:"noopener noreferrer"}},[t._v("commitlint"),s("OutboundLink")],1),t._v("：用于检查提交信息")])]),t._v(" "),s("li",[s("p",[s("a",{attrs:{href:"https://github.com/typicode/husky",target:"_blank",rel:"noopener noreferrer"}},[t._v("husky"),s("OutboundLink")],1),t._v("：是"),s("code",[t._v("git hooks")]),t._v("工具")])])]),t._v(" "),s("p",[t._v("注意："),s("strong",[s("code",[t._v("npm")]),t._v(" 需要在 7.x 以上版本！！！！！")])]),t._v(" "),s("p",[t._v("那么下面我们分别来去安装一下这两个工具：")]),t._v(" "),s("h3",{attrs:{id:"commitlint"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#commitlint"}},[t._v("#")]),t._v(" commitlint")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("安装依赖：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("npm install --save-dev @commitlint/config-conventional@12.1.4 @commitlint/cli@12.1.4\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("创建 "),s("code",[t._v("commitlint.config.js")]),t._v(" 文件")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("echo \"module.exports = {extends: ['@commitlint/config-conventional']}\" > commitlint.config.js\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("打开 "),s("code",[t._v("commitlint.config.js")]),t._v(" ， 增加配置项（ "),s("a",{attrs:{href:"https://github.com/conventional-changelog/commitlint/blob/master/@commitlint/config-conventional/index.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("config-conventional 默认配置点击可查看"),s("OutboundLink")],1),t._v(" ）：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 继承的规则")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@commitlint/config-conventional'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 定义规则类型")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("rules")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// type 类型定义，表示 git 提交的 type 必须在以下类型范围内")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'type-enum'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'always'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'feat'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 新功能 feature")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fix'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 修复 bug")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'docs'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 文档注释")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'style'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 代码格式(不影响代码运行的变动)")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'refactor'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 重构(既不增加新功能，也不是修复bug)")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'perf'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 性能优化")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 增加测试")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'chore'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 构建过程或辅助工具的变动")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'revert'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 回退")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'build'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打包")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// subject 大小写不做校验")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'subject-case'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br")])])])]),t._v(" "),s("p",[s("strong",[t._v("注意：确保保存为 "),s("code",[t._v("UTF-8")]),t._v(" 的编码格式")]),t._v("，否则可能会出现以下错误：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/image/blogs/%E6%8A%80%E6%9C%AF/20211218/blogs-%E6%8A%80%E6%9C%AF-20211218-10.png",alt:"image-20210710121456416"}})]),t._v(" "),s("p",[t._v("接下来我们来安装 "),s("code",[t._v("husky")])]),t._v(" "),s("h3",{attrs:{id:"husky"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#husky"}},[t._v("#")]),t._v(" husky")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("安装依赖：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("npm install husky@7.0.1 --save-dev\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("启动 "),s("code",[t._v("hooks")]),t._v(" ， 生成 "),s("code",[t._v(".husky")]),t._v(" 文件夹")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("npx husky install\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"/image/blogs/%E6%8A%80%E6%9C%AF/20211218/blogs-%E6%8A%80%E6%9C%AF-20211218-11.png",alt:"image-20210906202034156"}})])]),t._v(" "),s("li",[s("p",[t._v("在 "),s("code",[t._v("package.json")]),t._v(" 中生成 "),s("code",[t._v("prepare")]),t._v(" 指令（ "),s("strong",[t._v("需要 npm > 7.0 版本")]),t._v(" ）")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('npm set-script prepare "husky install"\n')])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"/image/blogs/技术/20211218/blogs-技术-20211218-12.png"}})]),t._v(" "),s("li",[s("p",[t._v("执行 "),s("code",[t._v("prepare")]),t._v(" 指令")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("npm run prepare\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("执行成功，提示\n"),s("img",{staticStyle:{zoom:"80%"},attrs:{src:"/image/blogs/技术/20211218/blogs-技术-20211218-13.png"}})])]),t._v(" "),s("li",[s("p",[t._v("添加 "),s("code",[t._v("commitlint")]),t._v(" 的 "),s("code",[t._v("hook")]),t._v(" 到 "),s("code",[t._v("husky")]),t._v("中，并指令在 "),s("code",[t._v("commit-msg")]),t._v(" 的 "),s("code",[t._v("hooks")]),t._v(" 下执行 "),s("code",[t._v('npx --no-install commitlint --edit "$1"')]),t._v(" 指令")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("npx husky add .husky/commit-msg 'npx --no-install commitlint --edit \"$1\"'\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("此时的 "),s("code",[t._v(".husky")]),t._v(" 的文件结构\n"),s("img",{attrs:{src:"/image/blogs/%E6%8A%80%E6%9C%AF/20211218/blogs-%E6%8A%80%E6%9C%AF-20211218-14.png",alt:"image-20210710120228931"}})])])]),t._v(" "),s("p",[t._v("至此， 不符合规范的 commit 将不再可提交：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('PS F:\\xxxxxxxxxxxxxxxxxxxxx\\imooc-admin> git commit -m "测试"\n⧗   input: 测试\n✖   subject may not be empty [subject-empty]\n✖   type may not be empty [type-empty]\n\n✖   found 2 problems, 0 warnings\nⓘ   Get help: https://github.com/conventional-changelog/commitlint/#what-is-commitlint\n\nhusky - commit-msg hook exited with code 1 (error)\n')])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("p",[t._v("那么至此，我们就已经可以处理好了 "),s("strong",[t._v("强制规范化的提交要求")]),t._v("，到现在 "),s("strong",[t._v("不符合规范的提交信息，将不可在被提交！")])]),t._v(" "),s("p",[t._v("那么到这里我们的 "),s("strong",[t._v("规范化目标")]),t._v(" 就完成了吗？")]),t._v(" "),s("p",[t._v("当然没有！")]),t._v(" "),s("p",[t._v("现在我们还缺少一个 "),s("strong",[t._v("规范化的处理")]),t._v(" ，那就是 "),s("strong",[t._v("代码格式提交规范处理！")])]),t._v(" "),s("p",[t._v("有同学看到这里可能说，咦！ 这个怎么看着这么眼熟啊？这个事情我们之前不是做过了吗？还需要在处理什么？")]),t._v(" "),s("p",[t._v("欲知后事如何，请看下一节《通过 pre-commit 处理提交时代码规范》")]),t._v(" "),s("h2",{attrs:{id:"_11、通过-pre-commit-检测提交时代码规范"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_11、通过-pre-commit-检测提交时代码规范"}},[t._v("#")]),t._v(" 11、通过 pre-commit 检测提交时代码规范")]),t._v(" "),s("p",[t._v("在 "),s("strong",[s("code",[t._v("ESLint")]),t._v(" 与 "),s("code",[t._v("Prettier")]),t._v(" 配合解决代码格式问题")]),t._v(" 的章节中，我们讲解了如何处理 "),s("strong",[t._v("本地！代码格式问题。")])]),t._v(" "),s("p",[t._v("但是这样的一个格式处理问题，他只能够在本地进行处理，并且我们还需要 "),s("strong",[t._v("手动在 "),s("code",[t._v("VSCode")]),t._v(" 中配置自动保存")]),t._v(" 才可以。那么这样就会存在一个问题，要是有人忘记配置这个东西了怎么办呢？他把代码写的乱七八糟的直接就提交了怎么办呢？")]),t._v(" "),s("p",[t._v("所以我们就需要有一种方式来规避这种风险。")]),t._v(" "),s("p",[t._v("那么想要完成这么一个操作就需要使用 "),s("code",[t._v("husky")]),t._v(" 配合 "),s("code",[t._v("eslint")]),t._v(" 才可以实现。")]),t._v(" "),s("p",[t._v("我们期望通过 "),s("strong",[s("code",[t._v("husky")]),t._v(" 监测 "),s("code",[t._v("pre-commit")]),t._v(" 钩子，在该钩子下执行 "),s("code",[t._v("npx eslint --ext .js,.vue src")])]),t._v(" 指令来去进行相关检测：")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("执行 "),s("code",[t._v('npx husky add .husky/pre-commit "npx eslint --ext .js,.vue src"')]),t._v(" 添加 "),s("code",[t._v("commit")]),t._v(" 时的 "),s("code",[t._v("hook")]),t._v(" （"),s("code",[t._v("npx eslint --ext .js,.vue src")]),t._v(" 会在执行到该 hook 时运行）")])]),t._v(" "),s("li",[s("p",[t._v("该操作会生成对应文件 "),s("code",[t._v("pre-commit")]),t._v("：\n"),s("img",{attrs:{src:"/image/blogs/%E6%8A%80%E6%9C%AF/20211218/blogs-%E6%8A%80%E6%9C%AF-20211218-15.png",alt:"image-20210906204043915"}})])]),t._v(" "),s("li",[s("p",[t._v("关闭 "),s("code",[t._v("VSCode")]),t._v(" 的自动保存操作")])]),t._v(" "),s("li",[s("p",[t._v("修改一处代码，使其不符合 "),s("code",[t._v("ESLint")]),t._v(" 校验规则")])]),t._v(" "),s("li",[s("p",[t._v("执行 "),s("strong",[t._v("提交操作")]),t._v(" 会发现，抛出一系列的错误，代码无法提交")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("PS F:\\xxxxxxxxxxxxxxxxxxx\\imooc-admin> git commit -m 'test'\n\nF:\\xxxxxxxxxxxxxxxx\\imooc-admin\\src\\views\\Home.vue\n  13:9  error  Strings must use singlequote  quotes\n\n✖ 1 problem (1 error, 0 warnings)\n  1 error and 0 warnings potentially fixable with the `--fix` option.\n\nhusky - pre-commit hook exited with code 1 (error)\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])])])]),t._v(" "),s("ol",{attrs:{start:"6"}},[s("li",[t._v("想要提交代码，必须处理完成所有的错误信息")])]),t._v(" "),s("p",[t._v("那么到这里位置，我们已经通过 "),s("code",[t._v("pre-commit")]),t._v(" 检测到了代码的提交规范问题。")]),t._v(" "),s("p",[t._v("那么到这里就万事大吉了吗？")]),t._v(" "),s("p",[t._v("在这个世界上从来不缺的就是懒人，错误的代码格式可能会抛出很多的 "),s("code",[t._v("ESLint")]),t._v(" 错误，让人看得头皮发麻。严重影响程序猿的幸福指数。")]),t._v(" "),s("p",[t._v("那么有没有办法，让程序猿在 0 配置的前提下，哪怕代码格式再乱，也可以 "),s("strong",[t._v("”自动“")]),t._v(" 帮助他修复对应的问题，并且完成提交呢？")]),t._v(" "),s("p",[t._v("你别说，还真有！")]),t._v(" "),s("p",[t._v("那么咱们来看下一节《lint-staged 自动修复格式错误》")]),t._v(" "),s("h2",{attrs:{id:"_12、lint-staged-自动修复格式错误"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_12、lint-staged-自动修复格式错误"}},[t._v("#")]),t._v(" 12、lint-staged 自动修复格式错误")]),t._v(" "),s("p",[t._v("在上一章中我们通过 "),s("code",[t._v("pre-commit")]),t._v(" 处理了 "),s("strong",[t._v("检测代码的提交规范问题，当我们进行代码提交时，会检测所有的代码格式规范")]),t._v(" 。")]),t._v(" "),s("p",[t._v("但是这样会存在两个问题：")]),t._v(" "),s("ol",[s("li",[t._v("我们只修改了个别的文件，没有必要检测所有的文件代码格式")]),t._v(" "),s("li",[t._v("它只能给我们提示出对应的错误，我们还需要手动的进行代码修改")])]),t._v(" "),s("p",[t._v("那么这一小节，我们就需要处理这两个问题")]),t._v(" "),s("p",[t._v("那么想要处理这两个问题，就需要使用另外一个插件 "),s("a",{attrs:{href:"https://github.com/okonet/lint-staged",target:"_blank",rel:"noopener noreferrer"}},[t._v("lint-staged"),s("OutboundLink")],1),t._v(" ！")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/okonet/lint-staged",target:"_blank",rel:"noopener noreferrer"}},[t._v("lint-staged"),s("OutboundLink")],1),t._v(" 可以让你当前的代码检查 "),s("strong",[t._v("只检查本次修改更新的代码，并在出现错误的时候，自动修复并且推送")])]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/okonet/lint-staged",target:"_blank",rel:"noopener noreferrer"}},[t._v("lint-staged"),s("OutboundLink")],1),t._v(" 无需单独安装，我们生成项目时，"),s("code",[t._v("vue-cli")]),t._v(" 已经帮助我们安装过了，所以我们直接使用就可以了")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("修改 "),s("code",[t._v("package.json")]),t._v(" 配置")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"lint-staged"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"src/**/*.{js,vue}"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eslint --fix"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git add"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("如上配置，每次它只会在你本地 "),s("code",[t._v("commit")]),t._v(" 之前，校验你提交的内容是否符合你本地配置的 "),s("code",[t._v("eslint")]),t._v("规则(这个见文档 "),s("a",{attrs:{href:"https://panjiachen.github.io/vue-element-admin-site/zh/guide/advanced/eslint.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("ESLint"),s("OutboundLink")],1),t._v(" )，校验会出现两种结果：")]),t._v(" "),s("ol",[s("li",[t._v("如果符合规则：则会提交成功。")]),t._v(" "),s("li",[t._v("如果不符合规则：它会自动执行 "),s("code",[t._v("eslint --fix")]),t._v(" 尝试帮你自动修复，如果修复成功则会帮你把修复好的代码提交，如果失败，则会提示你错误，让你修好这个错误之后才能允许你提交代码。")])])]),t._v(" "),s("li",[s("p",[t._v("修改 "),s("code",[t._v(".husky/pre-commit")]),t._v(" 文件")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token hashbang comment"}},[t._v("#!/bin/sh")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$(dirname "')]),t._v("$0"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('")/_/husky.sh"')]),t._v("\n\nnpx lint"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("staged\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("再次执行提交代码")])]),t._v(" "),s("li",[s("p",[t._v("发现 "),s("strong",[t._v("暂存区中")]),t._v(" 不符合 "),s("code",[t._v("ESlint")]),t._v(" 的内容，被自动修复")])])]),t._v(" "),s("h2",{attrs:{id:"_13、关于-vetur-检测-template-的单一根元素的问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_13、关于-vetur-检测-template-的单一根元素的问题"}},[t._v("#")]),t._v(" 13、关于 "),s("code",[t._v("vetur")]),t._v(" 检测 "),s("code",[t._v("template")]),t._v(" 的单一根元素的问题")]),t._v(" "),s("p",[t._v("关于 "),s("code",[t._v("vetur")]),t._v(" 检测 "),s("code",[t._v("template")]),t._v(" 的单一根元素的问题")]),t._v(" "),s("p",[t._v("在 "),s("code",[t._v("vue2")]),t._v(" 中，"),s("code",[t._v("template")]),t._v(" 只允许存在一个根元素，但是这种情况在 "),s("code",[t._v("vue3")]),t._v(" 里发生了一些变化。")]),t._v(" "),s("p",[t._v("在 "),s("code",[t._v("Vue3")]),t._v(" 中开始支持 "),s("code",[t._v("template")]),t._v(" 存在多个根元素了。但是因为 "),s("code",[t._v("VSCode")]),t._v(" 中的一些插件没有及时更新，所以当你在 "),s("code",[t._v("template")]),t._v(" 中写入多个根元素时，有可能会出现以下的错误：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/image/blogs/%E6%8A%80%E6%9C%AF/20211218/blogs-%E6%8A%80%E6%9C%AF-20211218-16.png",alt:"image-20210717190311264"}})]),t._v(" "),s("p",[t._v("出现这个问题的原因主要是： "),s("code",[t._v("vetur")]),t._v(" 这个 "),s("code",[t._v("vsCode")]),t._v(" 插件依然按照 "),s("code",[t._v("vue2")]),t._v(" 的单一根元素逻辑进行检测，所以会出现提示错误的问题。")]),t._v(" "),s("p",[t._v("但是大家要注意，虽然这样不太好看，但是 "),s("strong",[t._v("该问题并不影响代码运行！")])]),t._v(" "),s("p",[t._v("如果你实在觉得这样太丑的话，那么可以通过以下方案来 "),s("strong",[t._v("取消 "),s("code",[t._v("vetur")]),t._v(" 对 "),s("code",[t._v("template")]),t._v(" 的检测：")])]),t._v(" "),s("ol",[s("li",[t._v("在 "),s("code",[t._v("VSCode")]),t._v(" 的设置中，搜索 "),s("code",[t._v("vetur")]),t._v("，找到如下设置，取消勾选")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/image/blogs/%E6%8A%80%E6%9C%AF/20211218/blogs-%E6%8A%80%E6%9C%AF-20211218-17.png",alt:"image-20210717190629024"}})]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("重启 "),s("code",[t._v("VSCode")])])]),t._v(" "),s("p",[t._v("按以上两种方式执行之后，你的多根元素就不会出现不好看的错误了\n"),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"/image/blogs/技术/20211218/blogs-技术-20211218-18.png"}})]),t._v(" "),s("h2",{attrs:{id:"_14、总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_14、总结"}},[t._v("#")]),t._v(" 14、总结")]),t._v(" "),s("p",[t._v("本章中我们处理了 "),s("strong",[t._v("编程格式规范的问题")]),t._v("，整个规范大体可以分为两大类：")]),t._v(" "),s("ol",[s("li",[t._v("代码格式规范")]),t._v(" "),s("li",[s("code",[t._v("git")]),t._v(" 提交规范")])]),t._v(" "),s("p",[s("strong",[t._v("代码格式规范：")])]),t._v(" "),s("p",[t._v("对于 "),s("strong",[t._v("代码格式规范")]),t._v(" 而言，我们通过 "),s("code",[t._v("ESLint")]),t._v(" + "),s("code",[t._v("Prettier")]),t._v(" + "),s("code",[t._v("VSCode 配置")]),t._v(" 配合进行了处理。")]),t._v(" "),s("p",[t._v("最终达到了在保存代码时，自动规范化代码格式的目的。")]),t._v(" "),s("p",[s("strong",[s("code",[t._v("git")]),t._v(" 提交规范：")])]),t._v(" "),s("p",[t._v("对于 "),s("strong",[s("code",[t._v("git")]),t._v(" 提交规范")]),t._v(" 而言我们使用了 "),s("code",[t._v("husky")]),t._v(" 来监测 "),s("code",[t._v("Git hooks")]),t._v(" 钩子，并且通过以下插件完成了对应的配置：")]),t._v(" "),s("ol",[s("li",[s("a",{attrs:{href:"https://www.conventionalcommits.org/zh-hans/v1.0.0/",target:"_blank",rel:"noopener noreferrer"}},[t._v("约定式提交规范"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/commitizen/cz-cli",target:"_blank",rel:"noopener noreferrer"}},[t._v("commitizen"),s("OutboundLink")],1),t._v("：git 提交规范化工具")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/conventional-changelog/commitlint",target:"_blank",rel:"noopener noreferrer"}},[t._v("commitlint"),s("OutboundLink")],1),t._v("：用于检查提交信息")]),t._v(" "),s("li",[s("code",[t._v("pre-commit")]),t._v("： "),s("code",[t._v("git hooks")]),t._v(" 钩子")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/okonet/lint-staged",target:"_blank",rel:"noopener noreferrer"}},[t._v("lint-staged"),s("OutboundLink")],1),t._v("：只检查本次修改更新的代码，并在出现错误的时候，自动修复并且推送")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"title"}),s("p",[t._v("作者：chenjie "),s("br"),t._v("\n链接：https://webchenjie.cn "),s("br"),t._v("\n来源：ChenJieBlog")])])])}),[],!1,null,null,null);s.default=n.exports}}]);