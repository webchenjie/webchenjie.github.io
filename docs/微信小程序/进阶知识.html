<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>微信小程序-进阶知识 | ChenJieBlog</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/image/base/base-favicon.ico">
    <meta name="description" content="愿你能乘风破浪所向无前">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.ab2a9eb5.css" as="style"><link rel="preload" href="/assets/js/app.5fc7dbbb.js" as="script"><link rel="preload" href="/assets/js/7.5a109060.js" as="script"><link rel="preload" href="/assets/js/2.ebde13fd.js" as="script"><link rel="preload" href="/assets/js/1.51b9cd7b.js" as="script"><link rel="preload" href="/assets/js/128.01354015.js" as="script"><link rel="prefetch" href="/assets/js/10.c415623c.js"><link rel="prefetch" href="/assets/js/100.f71984e8.js"><link rel="prefetch" href="/assets/js/101.b9dce1c4.js"><link rel="prefetch" href="/assets/js/102.6aa28b04.js"><link rel="prefetch" href="/assets/js/103.dfe39e65.js"><link rel="prefetch" href="/assets/js/104.b689b666.js"><link rel="prefetch" href="/assets/js/105.71355887.js"><link rel="prefetch" href="/assets/js/106.7fa86151.js"><link rel="prefetch" href="/assets/js/107.12cde5e9.js"><link rel="prefetch" href="/assets/js/108.26879f58.js"><link rel="prefetch" href="/assets/js/109.902c1d2e.js"><link rel="prefetch" href="/assets/js/11.2a35b1d0.js"><link rel="prefetch" href="/assets/js/110.327d3b90.js"><link rel="prefetch" href="/assets/js/111.965ba0b5.js"><link rel="prefetch" href="/assets/js/112.fb01a563.js"><link rel="prefetch" href="/assets/js/113.5d364a68.js"><link rel="prefetch" href="/assets/js/114.c4d425a6.js"><link rel="prefetch" href="/assets/js/115.5550f26a.js"><link rel="prefetch" href="/assets/js/116.ab2d8bf2.js"><link rel="prefetch" href="/assets/js/117.0a56e802.js"><link rel="prefetch" href="/assets/js/118.8e720a47.js"><link rel="prefetch" href="/assets/js/119.0eb3f013.js"><link rel="prefetch" href="/assets/js/120.26426289.js"><link rel="prefetch" href="/assets/js/121.3433ef87.js"><link rel="prefetch" href="/assets/js/122.0d752e3d.js"><link rel="prefetch" href="/assets/js/123.982029f8.js"><link rel="prefetch" href="/assets/js/124.a9eee3aa.js"><link rel="prefetch" href="/assets/js/125.677ede81.js"><link rel="prefetch" href="/assets/js/126.6ae560c9.js"><link rel="prefetch" href="/assets/js/127.736c047b.js"><link rel="prefetch" href="/assets/js/129.ce1680ec.js"><link rel="prefetch" href="/assets/js/130.2c5d7402.js"><link rel="prefetch" href="/assets/js/131.55244960.js"><link rel="prefetch" href="/assets/js/132.cbe40cbd.js"><link rel="prefetch" href="/assets/js/133.e7aac361.js"><link rel="prefetch" href="/assets/js/134.bc582787.js"><link rel="prefetch" href="/assets/js/135.d6b2a13a.js"><link rel="prefetch" href="/assets/js/136.18c1f730.js"><link rel="prefetch" href="/assets/js/137.46867625.js"><link rel="prefetch" href="/assets/js/138.3d523b89.js"><link rel="prefetch" href="/assets/js/14.5da63fbd.js"><link rel="prefetch" href="/assets/js/15.64818daa.js"><link rel="prefetch" href="/assets/js/16.3529926c.js"><link rel="prefetch" href="/assets/js/17.da853bbe.js"><link rel="prefetch" href="/assets/js/18.5f97310b.js"><link rel="prefetch" href="/assets/js/19.ce5faeb5.js"><link rel="prefetch" href="/assets/js/20.a164a9d6.js"><link rel="prefetch" href="/assets/js/21.f8754330.js"><link rel="prefetch" href="/assets/js/22.8e2c78d6.js"><link rel="prefetch" href="/assets/js/23.edc7b626.js"><link rel="prefetch" href="/assets/js/24.724c245c.js"><link rel="prefetch" href="/assets/js/25.406a9925.js"><link rel="prefetch" href="/assets/js/26.c780fe2d.js"><link rel="prefetch" href="/assets/js/27.ec4c7efa.js"><link rel="prefetch" href="/assets/js/28.e4c87781.js"><link rel="prefetch" href="/assets/js/29.e98327a8.js"><link rel="prefetch" href="/assets/js/3.d643cb07.js"><link rel="prefetch" href="/assets/js/30.e84c6e14.js"><link rel="prefetch" href="/assets/js/31.617e8dca.js"><link rel="prefetch" href="/assets/js/32.9e12accf.js"><link rel="prefetch" href="/assets/js/33.04cb7a95.js"><link rel="prefetch" href="/assets/js/34.99f43591.js"><link rel="prefetch" href="/assets/js/35.7674142b.js"><link rel="prefetch" href="/assets/js/36.ca3cb89e.js"><link rel="prefetch" href="/assets/js/37.f943e428.js"><link rel="prefetch" href="/assets/js/38.790a7b76.js"><link rel="prefetch" href="/assets/js/39.4fcdc874.js"><link rel="prefetch" href="/assets/js/4.36deb07a.js"><link rel="prefetch" href="/assets/js/40.c562f1a4.js"><link rel="prefetch" href="/assets/js/41.92af3544.js"><link rel="prefetch" href="/assets/js/42.23344faa.js"><link rel="prefetch" href="/assets/js/43.489bf971.js"><link rel="prefetch" href="/assets/js/44.16b358ae.js"><link rel="prefetch" href="/assets/js/45.0ed1d9c2.js"><link rel="prefetch" href="/assets/js/46.9401eef1.js"><link rel="prefetch" href="/assets/js/47.11dd5789.js"><link rel="prefetch" href="/assets/js/48.0d929b8a.js"><link rel="prefetch" href="/assets/js/49.d1cb613f.js"><link rel="prefetch" href="/assets/js/5.28fa710a.js"><link rel="prefetch" href="/assets/js/50.8e00fdee.js"><link rel="prefetch" href="/assets/js/51.fe520303.js"><link rel="prefetch" href="/assets/js/52.ef12d6d4.js"><link rel="prefetch" href="/assets/js/53.dc5bfb9a.js"><link rel="prefetch" href="/assets/js/54.afd7c4ec.js"><link rel="prefetch" href="/assets/js/55.159e4e7c.js"><link rel="prefetch" href="/assets/js/56.1ad5996b.js"><link rel="prefetch" href="/assets/js/57.af273c37.js"><link rel="prefetch" href="/assets/js/58.73c9dd3a.js"><link rel="prefetch" href="/assets/js/59.f88f9ab7.js"><link rel="prefetch" href="/assets/js/6.85f9dc73.js"><link rel="prefetch" href="/assets/js/60.97bc8fa9.js"><link rel="prefetch" href="/assets/js/61.21031989.js"><link rel="prefetch" href="/assets/js/62.3eff911f.js"><link rel="prefetch" href="/assets/js/63.2cac56fe.js"><link rel="prefetch" href="/assets/js/64.b3faa78c.js"><link rel="prefetch" href="/assets/js/65.0746f415.js"><link rel="prefetch" href="/assets/js/66.cd77640b.js"><link rel="prefetch" href="/assets/js/67.a2cd0da1.js"><link rel="prefetch" href="/assets/js/68.1690c3cb.js"><link rel="prefetch" href="/assets/js/69.a0e5257b.js"><link rel="prefetch" href="/assets/js/70.4f345b6c.js"><link rel="prefetch" href="/assets/js/71.b18893ff.js"><link rel="prefetch" href="/assets/js/72.10497822.js"><link rel="prefetch" href="/assets/js/73.669c55ec.js"><link rel="prefetch" href="/assets/js/74.48ccf9f2.js"><link rel="prefetch" href="/assets/js/75.79c151cd.js"><link rel="prefetch" href="/assets/js/76.b082530f.js"><link rel="prefetch" href="/assets/js/77.15d86f27.js"><link rel="prefetch" href="/assets/js/78.ab5c7496.js"><link rel="prefetch" href="/assets/js/79.8e756280.js"><link rel="prefetch" href="/assets/js/8.6a8503d5.js"><link rel="prefetch" href="/assets/js/80.706823bc.js"><link rel="prefetch" href="/assets/js/81.1276b3d7.js"><link rel="prefetch" href="/assets/js/82.1e17c46a.js"><link rel="prefetch" href="/assets/js/83.3506ab18.js"><link rel="prefetch" href="/assets/js/84.cb2243ad.js"><link rel="prefetch" href="/assets/js/85.a908153f.js"><link rel="prefetch" href="/assets/js/86.a1a8da43.js"><link rel="prefetch" href="/assets/js/87.a4ee159e.js"><link rel="prefetch" href="/assets/js/88.454c4775.js"><link rel="prefetch" href="/assets/js/89.e3584c2a.js"><link rel="prefetch" href="/assets/js/9.0764840f.js"><link rel="prefetch" href="/assets/js/90.c7c8e67b.js"><link rel="prefetch" href="/assets/js/91.ad77dc14.js"><link rel="prefetch" href="/assets/js/92.40ddfa3e.js"><link rel="prefetch" href="/assets/js/93.8765313e.js"><link rel="prefetch" href="/assets/js/94.cc7ee8b7.js"><link rel="prefetch" href="/assets/js/95.3bd5ddea.js"><link rel="prefetch" href="/assets/js/96.78c821c0.js"><link rel="prefetch" href="/assets/js/97.c51b3af4.js"><link rel="prefetch" href="/assets/js/98.05f4ff5c.js"><link rel="prefetch" href="/assets/js/99.5325d8cd.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.0ade3b4a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ab2a9eb5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>ChenJieBlog</h3> <p class="description" data-v-59e6cb88>愿你能乘风破浪所向无前</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>chenjie</span>
          
        <span data-v-59e6cb88>2020 - </span>
        2025
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/image/base/base-logo.png" alt="ChenJieBlog" class="logo"> <span class="site-name">ChenJieBlog</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-api"></i>
      学习记录
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/HTML/基础知识.html" class="nav-link"><i class="undefined"></i>
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/docs/CSS/基础知识.html" class="nav-link"><i class="undefined"></i>
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/docs/JavaScript/String.html" class="nav-link"><i class="undefined"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/docs/TypeScript/基础知识.html" class="nav-link"><i class="undefined"></i>
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/docs/jQuery/基础知识.html" class="nav-link"><i class="undefined"></i>
  jQuery
</a></li><li class="dropdown-item"><!----> <a href="/docs/Vue/基础知识.html" class="nav-link"><i class="undefined"></i>
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/docs/React/基础知识.html" class="nav-link"><i class="undefined"></i>
  React
</a></li><li class="dropdown-item"><!----> <a href="/docs/Node/基础知识.html" class="nav-link"><i class="undefined"></i>
  Node
</a></li><li class="dropdown-item"><!----> <a href="/docs/Webpack/基础知识.html" class="nav-link"><i class="undefined"></i>
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/docs/Vite/基础知识.html" class="nav-link"><i class="undefined"></i>
  Vite
</a></li><li class="dropdown-item"><!----> <a href="/docs/vue-element-admin/基础知识.html" class="nav-link"><i class="undefined"></i>
  vue-element-admin
</a></li><li class="dropdown-item"><!----> <a href="/docs/uni-app/基础知识.html" class="nav-link"><i class="undefined"></i>
  uni-app
</a></li><li class="dropdown-item"><!----> <a href="/docs/Git/基础知识.html" class="nav-link"><i class="undefined"></i>
  Git
</a></li><li class="dropdown-item"><!----> <a href="/docs/SQL/基础知识.html" class="nav-link"><i class="undefined"></i>
  SQL
</a></li><li class="dropdown-item"><!----> <a href="/docs/PM2/基础知识.html" class="nav-link"><i class="undefined"></i>
  PM2
</a></li><li class="dropdown-item"><!----> <a href="/docs/HTTP/基础知识.html" class="nav-link"><i class="undefined"></i>
  HTTP
</a></li><li class="dropdown-item"><!----> <a href="/docs/Nginx/基础知识.html" class="nav-link"><i class="undefined"></i>
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/docs/Docker/基础知识.html" class="nav-link"><i class="undefined"></i>
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/docs/Linux/基础知识.html" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/docs/微信小程序/基础知识.html" class="nav-link"><i class="undefined"></i>
  微信小程序
</a></li><li class="dropdown-item"><!----> <a href="/docs/性能优化/基础知识.html" class="nav-link"><i class="undefined"></i>
  性能优化
</a></li><li class="dropdown-item"><!----> <a href="/docs/数据可视化/基础知识.html" class="nav-link"><i class="undefined"></i>
  数据可视化
</a></li><li class="dropdown-item"><!----> <a href="/docs/自动化测试/基础知识.html" class="nav-link"><i class="undefined"></i>
  自动化测试
</a></li><li class="dropdown-item"><!----> <a href="/docs/数据结构与算法/基础知识.html" class="nav-link"><i class="undefined"></i>
  数据结构与算法
</a></li><li class="dropdown-item"><!----> <a href="/docs/计算机原理/基础知识.html" class="nav-link"><i class="undefined"></i>
  计算机原理
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/sxwy" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  开源作品
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><img src="/image/base/base-logo.png" alt="author-avatar" class="personal-img" data-v-1fad0c41> <h3 class="name" data-v-1fad0c41>
    chenjie
  </h3> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>14</h3> <h6 data-v-1fad0c41>文章</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>27</h3> <h6 data-v-1fad0c41>标签</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-api"></i>
      学习记录
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/HTML/基础知识.html" class="nav-link"><i class="undefined"></i>
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/docs/CSS/基础知识.html" class="nav-link"><i class="undefined"></i>
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/docs/JavaScript/String.html" class="nav-link"><i class="undefined"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/docs/TypeScript/基础知识.html" class="nav-link"><i class="undefined"></i>
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/docs/jQuery/基础知识.html" class="nav-link"><i class="undefined"></i>
  jQuery
</a></li><li class="dropdown-item"><!----> <a href="/docs/Vue/基础知识.html" class="nav-link"><i class="undefined"></i>
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/docs/React/基础知识.html" class="nav-link"><i class="undefined"></i>
  React
</a></li><li class="dropdown-item"><!----> <a href="/docs/Node/基础知识.html" class="nav-link"><i class="undefined"></i>
  Node
</a></li><li class="dropdown-item"><!----> <a href="/docs/Webpack/基础知识.html" class="nav-link"><i class="undefined"></i>
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/docs/Vite/基础知识.html" class="nav-link"><i class="undefined"></i>
  Vite
</a></li><li class="dropdown-item"><!----> <a href="/docs/vue-element-admin/基础知识.html" class="nav-link"><i class="undefined"></i>
  vue-element-admin
</a></li><li class="dropdown-item"><!----> <a href="/docs/uni-app/基础知识.html" class="nav-link"><i class="undefined"></i>
  uni-app
</a></li><li class="dropdown-item"><!----> <a href="/docs/Git/基础知识.html" class="nav-link"><i class="undefined"></i>
  Git
</a></li><li class="dropdown-item"><!----> <a href="/docs/SQL/基础知识.html" class="nav-link"><i class="undefined"></i>
  SQL
</a></li><li class="dropdown-item"><!----> <a href="/docs/PM2/基础知识.html" class="nav-link"><i class="undefined"></i>
  PM2
</a></li><li class="dropdown-item"><!----> <a href="/docs/HTTP/基础知识.html" class="nav-link"><i class="undefined"></i>
  HTTP
</a></li><li class="dropdown-item"><!----> <a href="/docs/Nginx/基础知识.html" class="nav-link"><i class="undefined"></i>
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/docs/Docker/基础知识.html" class="nav-link"><i class="undefined"></i>
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/docs/Linux/基础知识.html" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/docs/微信小程序/基础知识.html" class="nav-link"><i class="undefined"></i>
  微信小程序
</a></li><li class="dropdown-item"><!----> <a href="/docs/性能优化/基础知识.html" class="nav-link"><i class="undefined"></i>
  性能优化
</a></li><li class="dropdown-item"><!----> <a href="/docs/数据可视化/基础知识.html" class="nav-link"><i class="undefined"></i>
  数据可视化
</a></li><li class="dropdown-item"><!----> <a href="/docs/自动化测试/基础知识.html" class="nav-link"><i class="undefined"></i>
  自动化测试
</a></li><li class="dropdown-item"><!----> <a href="/docs/数据结构与算法/基础知识.html" class="nav-link"><i class="undefined"></i>
  数据结构与算法
</a></li><li class="dropdown-item"><!----> <a href="/docs/计算机原理/基础知识.html" class="nav-link"><i class="undefined"></i>
  计算机原理
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/sxwy" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  开源作品
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTML</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TypeScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>jQuery</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Node</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vite</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue-element-admin</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>uni-app</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>SQL</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>PM2</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTTP</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Nginx</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Docker</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>微信小程序</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/微信小程序/基础知识.html" class="sidebar-link">基础知识</a></li><li><a href="/docs/微信小程序/进阶知识.html" class="active sidebar-link">进阶知识</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>性能优化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据可视化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>自动化测试</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据结构与算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>计算机原理</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>微信小程序-进阶知识</h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>chenjie</span>
          
        <span data-v-59e6cb88>2020 - </span>
        2025
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page" style="padding-right:0;"><section style="display:;"><div class="page-title"><h1 class="title">微信小程序-进阶知识</h1> <div data-v-8a445198><i class="iconfont reco-account" data-v-8a445198><span data-v-8a445198>chenjie</span></i> <i class="iconfont reco-date" data-v-8a445198><span data-v-8a445198>2020/7/11</span></i> <i class="iconfont reco-eye" data-v-8a445198><span id="/docs/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E8%BF%9B%E9%98%B6%E7%9F%A5%E8%AF%86.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-8a445198><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <i class="tags iconfont reco-tag" data-v-8a445198><span class="tag-item" data-v-8a445198>微信小程序</span></i></div></div> <div class="theme-reco-content content__default"><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 小程序通信与网页通信的区别</span>
<span class="token number">1.</span> 小程序中的渲染层中会有多个 webview，逻辑层只有一个 JsCore 用来执行 js 代码
    所有的 webview 都共用这个逻辑层，<span class="token constant">WXS</span> 是每个 webview 中独有的 JsCore
    所以它比逻辑层中的 JsCore 快的原因是他不需要经过微信 Native 中转
<span class="token number">2.</span> 浏览器中的渲染层和逻辑层都是在同一个线程里面，互斥的，而不同 tab 之间都是不同的线程
    所以他们之间没办法进行通信，小程序中 webview 共用的逻辑层是同一个线程，所以它可以进行通信
<span class="token number">3.</span> 在网页中想实现不同 tab 之间的通信
    <span class="token number">1.</span> 同域
        <span class="token number">1.</span> localStorage 简单易用，推荐
        <span class="token number">2.</span> SharedWorker 调试不方便，不兼容 <span class="token constant">IE11</span>
        <span class="token number">3.</span> Broadcast Channel
    <span class="token number">2.</span> 跨域
        <span class="token number">1.</span> WebSocket 需要服务端，成本较高
        <span class="token number">2.</span> iframe <span class="token operator">+</span> localStorage
        <span class="token number">3.</span> <span class="token function">可以监听页面显示去执行对应的逻辑，addEventListener</span><span class="token punctuation">(</span>visibilityChange<span class="token punctuation">,</span> fn<span class="token punctuation">)</span>
<span class="token number">4.</span> 网页和 iframe  之间的通信
    <span class="token number">1.</span> 使用 postMessage
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token comment">// 登录微信公众平台后,概念理解,包括小程序</span>
<span class="token number">1.</span> <span class="token literal-property property">公众号设置下功能设置</span><span class="token operator">:</span>
    <span class="token literal-property property">业务域名</span><span class="token operator">:</span> h5网页所对应的域名<span class="token punctuation">,</span>如果不设置在有输入框时微信会提示“防欺诈盗号<span class="token punctuation">,</span>请勿支付或输入<span class="token constant">QQ</span>密码”
    <span class="token literal-property property">js接口安全域名</span><span class="token operator">:</span> 要想使用微信<span class="token constant">JS</span><span class="token operator">-</span><span class="token constant">SDK</span><span class="token punctuation">,</span>包括有分享、支付等功能<span class="token punctuation">,</span>如果不设置则无法使用
    <span class="token literal-property property">网页授权域名</span><span class="token operator">:</span> 从别的App或网页跳转到微信进行授权登录<span class="token punctuation">,</span>确认登录后再返回App或网页<span class="token punctuation">,</span>如果不设置则无法实现微信授权
<span class="token number">2.</span> <span class="token literal-property property">人员设置</span><span class="token operator">:</span> 设置绑定运营者<span class="token punctuation">,</span>用于管理素材、文章等公众号服务
<span class="token number">3.</span> <span class="token literal-property property">开发者工具设置</span><span class="token operator">:</span> 设置绑定开发者<span class="token punctuation">,</span>如果不绑定则无法进行扫码进行开发联调测试
<span class="token number">4.</span> <span class="token literal-property property">网页授权access_token</span><span class="token operator">:</span> 用于获取用户的身份信息<span class="token punctuation">,</span>只在网页授权时使用
<span class="token number">5.</span> <span class="token literal-property property">普通access_token</span><span class="token operator">:</span> 用于调用非网页授权的所有接口
<span class="token number">6.</span> 在获取access_token时需要配置访问<span class="token constant">IP</span>白名单<span class="token punctuation">,</span>否则获取不到
<span class="token number">7.</span> <span class="token literal-property property">unionID</span><span class="token operator">:</span> 开发者到微信开发平台把公众号、移动应用、小程序进行关联<span class="token punctuation">,</span>用户进入其中一个程序就会生成unionID<span class="token punctuation">,</span>且不管进入哪一个unionID是相同的<span class="token punctuation">,</span>有用户个人信息
<span class="token number">8.</span> <span class="token literal-property property">openID</span><span class="token operator">:</span> 用户进入公众号、移动应用、小程序都会生成一个openID<span class="token punctuation">,</span>且每个openID都是不一样的即使是同一个用户
<span class="token number">9.</span> 公众号的微信认证每年<span class="token number">300</span>
<span class="token number">10.</span> 小程序版本管理即从开发工具中上传的代码<span class="token punctuation">,</span>需要微信审核后才可进行发布
<span class="token number">11.</span> 小程序成员管理可以添加开发成员和体验成员
<span class="token number">12.</span> 小程序的开发设置中的服务器域名的request合法域名<span class="token punctuation">,</span>就是项目域名<span class="token punctuation">,</span>不配置则无法调用后端接口
<span class="token number">13.</span> 小程序的开发设置中的业务域名是要从小程序中通过web<span class="token operator">-</span>view打开<span class="token constant">H5</span>页面则需要配置业务域名
<span class="token number">14.</span> 在公众号中的小程序管理中可以关联小程序<span class="token punctuation">,</span>可以把之前通过邮箱注册的小程序进行关联<span class="token punctuation">,</span>也可以通过快速注册并认证小程序实现快速注册和关联<span class="token punctuation">,</span>会直接复用公众号的资料
<span class="token number">15.</span> 小程序只能分享给朋友<span class="token punctuation">,</span>不能分享第三方应用 <span class="token comment">// 把图片放在朋友圈实现分享</span>
<span class="token number">16.</span> 微信组件有版本<span class="token punctuation">,</span>和微信App版本有关系<span class="token punctuation">,</span>需在开发时去查看当前微信App版本是否能使用
<span class="token number">17.</span> 微信<span class="token constant">API</span>有版本<span class="token punctuation">,</span>和微信App版本有关系<span class="token punctuation">,</span>需在开发时使用wx<span class="token punctuation">.</span><span class="token function">canIUse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法进行判断是否能使用
<span class="token number">18.</span> 可以把全局的变量挂载到App<span class="token punctuation">.</span>js中的App中<span class="token punctuation">,</span>当做window使用
<span class="token number">19.</span> 小程序的AppSecret即小程序秘钥只能重置且无法查看
<span class="token number">20.</span> 微信公众号网页需要配置域名不能用 ip
<span class="token number">21.</span> 微信小程序和微信公众号的业务域名需要放文件校验授权才能配置成功
<span class="token number">22.</span> webview 中的跳转链接需要配置业务域名
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token comment">// 微信H5两种授权流程</span>
<span class="token number">1.</span> <span class="token literal-property property">静默授权</span><span class="token operator">:</span> 对于前端用户来说是无感知的
    <span class="token comment">// 第一次是跳转,需要带上appid和redirect_uri地址和scope为snsapi_base</span>
    <span class="token comment">// 当跳转成功后会到微信会回跳到redirect_uri地址并在url中返回code,没有确认登录界面</span>
    获取code
    <span class="token comment">// 第二次是请求,需要带上appid和secret即公众号秘钥和返回的code</span>
    <span class="token comment">// 当请求成功后会返回openid和access_token和过期时间等信息</span>
    获取openid <span class="token comment">// 静默授权到此完成授权流程,只获取openid,无需再通过openid和access_token去拉去用户信息授权</span>
<span class="token number">2.</span> <span class="token literal-property property">用户信息授权</span><span class="token operator">:</span> 对于前端用户来说只是点击了一个确认登录按钮
    <span class="token comment">// 第一次是跳转,需要带上appid和redirect_uri地址和scope为snsapi_userinfo</span>
    <span class="token comment">// 当跳转成功后会到微信确认登录界面,点击确认登录后会回跳到redirect_uri地址并在url中返回code</span>
    用户点击确认登录<span class="token punctuation">,</span>会返回code <span class="token comment">// 获取code</span>
    <span class="token comment">// 第二次是请求,需要带上appid和secret即公众号秘钥和返回的code</span>
    <span class="token comment">// 当请求成功后会返回openid和access_token和refresh_token和过期时间等信息</span>
    通过code换取网页授权access_token <span class="token comment">// 获取openid和access_token</span>
    <span class="token comment">// 由于access_token拥有较短的有效期,当access_token超时后,可以使用refresh_token进行刷新</span>
    <span class="token comment">// refresh_token有效期为30天,当refresh_token失效之后,需要用户重新授权</span>
    <span class="token comment">// 第三次是请求,带上appid和refresh_token即可拿到新的access_token</span>
    <span class="token comment">// 如果不需要直接执行第四次请求</span>
    刷新access_token <span class="token comment">// 如果需要</span>
    <span class="token comment">// 第四次是请求,需要带上openid和access_token</span>
    <span class="token comment">// 当请求成功后会返回用户信息完成授权流程</span>
    获取用户信息
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token comment">// 微信H5授权前后端流程</span>
<span class="token number">1.</span> <span class="token literal-property property">前端</span><span class="token operator">:</span>
    判断是否授过权<span class="token punctuation">,</span>可使用后端写在localStorage或cookit中的token或openId作为条件
    在获取后端的接口getUserInfo时就可以进行判断有没有上述的条件<span class="token punctuation">,</span>如果没有就会去授权<span class="token punctuation">,</span>如果有授权就能拿到用户信息
    直接通过window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href方式跳转到后端指定的地址<span class="token punctuation">,</span>带上重定向地址即首页和其他业务需求参数
    不通过ajax接口方式传递的参数的原因是微信用户信息授权需要跳转至微信页面再去请求微信接口<span class="token punctuation">,</span>所以无法通过ajax返回
    全部都是通过后端进行跳转<span class="token punctuation">,</span>在授权成功后再由后端重定向到一开始前端传递过来的地址即首页完成授权
<span class="token number">2.</span> <span class="token literal-property property">后端</span><span class="token operator">:</span>
    参考上面微信<span class="token constant">H5</span>两种授权流程
    在获取access_token时需要配置访问的<span class="token constant">IP</span>白名单
    且由于公众号的secret和获取到的access_token安全级别都非常高<span class="token punctuation">,</span>必须只保存在服务器<span class="token punctuation">,</span>不允许传给客户端
    后续刷新access_token、通过access_token获取用户信息等步骤<span class="token punctuation">,</span>也必须从服务器发起
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token comment">// 通过使用微信JS-SDK,网页开发者可借助微信高效地使用拍照、选图、语音、位置等手机系统的能力</span>
<span class="token comment">// 同时可以直接使用微信分享、扫一扫、卡券、支付等微信特有的能力,为微信用户提供更优质的网页体验</span>
<span class="token comment">// 微信JS-SDK调用流程</span>
<span class="token number">1.</span> 在公众号中绑定域名<span class="token punctuation">,</span>即接口安全域名<span class="token punctuation">,</span>如果不配置就无法调用
<span class="token number">2.</span> 引入js文件<span class="token punctuation">,</span>即微信<span class="token constant">JS</span><span class="token operator">-</span><span class="token constant">SDK</span>库<span class="token punctuation">,</span>可通过下载官方文件内容也可引入官方文件也可使用npm包 <span class="token comment">// 官方: http://res.wx.qq.com/open/js/jweixin-1.6.0.js</span>
<span class="token number">3.</span> 通过config接口注入权限验证配置 <span class="token comment">// 需要后端进行授权后才能拿到的配置</span>
    wx<span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// 开启调试模式,调用的所有api的返回值会在客户端alert出来,若要查看传入的参数,</span>
    <span class="token comment">// 可以在pc端打开,参数信息会通过log打出,仅在pc端时才会打印。</span>
      <span class="token literal-property property">debug</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">appId</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 必填,公众号的唯一标识</span>
      <span class="token literal-property property">timestamp</span><span class="token operator">:</span> <span class="token punctuation">,</span> <span class="token comment">// 必填,生成签名的时间戳</span>
      <span class="token literal-property property">nonceStr</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 必填,生成签名的随机串</span>
      <span class="token literal-property property">signature</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span><span class="token comment">// 必填,签名</span>
      <span class="token literal-property property">jsApiList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// 必填,需要使用的JS接口列表</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token number">4.</span> 通过ready接口处理成功验证 <span class="token comment">// 在config中的jaApiList中的才能使用</span>
    wx<span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// config信息验证后会执行ready方法,所有接口调用都必须在config接口获得结果之后,</span>
    <span class="token comment">// config是一个客户端的异步操作,所以如果需要在页面加载时就调用相关接口,</span>
    <span class="token comment">// 则须把相关接口放在ready函数中调用来确保正确执行。对于用户触发时才调用的接口,</span>
    <span class="token comment">// 则可以直接调用,不需要放在ready函数中。</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token number">5.</span> 通过error接口处理失败验证
    wx<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// config信息验证失败会执行error函数,如签名过期导致验证失败,</span>
    <span class="token comment">// 具体错误信息可以打开config的debug模式查看,也可以在返回的res参数中查看,</span>
    <span class="token comment">// 对于SPA可以在这里更新签名。</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token comment">// 在使用微信JS-SDK前需要准备的config的签名</span>
<span class="token number">1.</span> 签名算法需要有一个随机数、一个时间戳、一个url、一个ticket <span class="token comment">// ticket由微信返回,其他由自己定义</span>
<span class="token number">2.</span> ticket需要有普通的access_token<span class="token punctuation">,</span>直接通过微信接口获取<span class="token punctuation">,</span>需要普通的access_token<span class="token punctuation">,</span>就能返回ticket
<span class="token number">3.</span> 普通的access_token直接通过微信接口获取<span class="token punctuation">,</span>需要appid和secret即公众号秘钥<span class="token punctuation">,</span>就能返回access_token <span class="token comment">// 需要配置访问IP白名单</span>
<span class="token number">4.</span> 对得到的签名参数按照字段名的<span class="token constant">ASCII</span>码从小到大排序（字典序）后<span class="token punctuation">,</span>使用<span class="token constant">URL</span><span class="token function">键值对的格式</span><span class="token punctuation">(</span>即key1<span class="token operator">=</span>value1<span class="token operator">&amp;</span>key2<span class="token operator">=</span>value2…<span class="token punctuation">)</span>
<span class="token number">5.</span> 再对转换后的格式进行sha1加密即能得到config中的signature
<span class="token number">6.</span> <span class="token literal-property property">注意</span><span class="token operator">:</span>
    签名用的noncestr和timestamp必须与wx<span class="token punctuation">.</span>config中的nonceStr和timestamp相同
    签名用的url必须是调用<span class="token constant">JS</span>接口页面的完整<span class="token constant">URL</span>
    出于安全考虑<span class="token punctuation">,</span>开发者必须在服务器端实现签名的逻辑
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token comment">// 接口调用说明</span>
<span class="token number">1.</span> <span class="token function">所有接口通过wx对象</span><span class="token punctuation">(</span>也可使用jWeixin对象<span class="token punctuation">)</span>来调用<span class="token punctuation">,</span>参数是一个对象<span class="token punctuation">,</span>除了每个接口本身需要传的参数之外<span class="token punctuation">,</span><span class="token literal-property property">还有以下通用参数</span><span class="token operator">:</span>
    <span class="token literal-property property">success</span><span class="token operator">:</span>接口调用成功时执行的回调函数。
    <span class="token literal-property property">fail</span><span class="token operator">:</span>接口调用失败时执行的回调函数。
    <span class="token literal-property property">complete</span><span class="token operator">:</span>接口调用完成时执行的回调函数<span class="token punctuation">,</span>无论成功或失败都会执行。
    <span class="token literal-property property">cancel</span><span class="token operator">:</span>用户点击取消时的回调函数<span class="token punctuation">,</span>仅部分有用户取消操作的api才会用到。
    <span class="token literal-property property">trigger</span><span class="token operator">:</span> 监听Menu中的按钮点击时触发的方法<span class="token punctuation">,</span>该方法仅支持Menu中的相关接口。
<span class="token number">2.</span> 不要尝试在trigger中使用ajax异步请求修改本次分享的内容<span class="token punctuation">,</span>因为客户端分享操作是一个同步操作<span class="token punctuation">,</span>这时候使用ajax的回包会还没有返回。
<span class="token number">3.</span> 以上几个函数都带有一个参数<span class="token punctuation">,</span>类型为对象<span class="token punctuation">,</span>其中除了每个接口本身返回的数据之外<span class="token punctuation">,</span>还有一个通用属性errMsg<span class="token punctuation">,</span><span class="token literal-property property">其值格式如下</span><span class="token operator">:</span>
    <span class="token literal-property property">调用成功时</span><span class="token operator">:</span><span class="token string">&quot;xxx:ok&quot;</span> <span class="token punctuation">,</span>其中xxx为调用的接口名
    <span class="token literal-property property">用户取消时</span><span class="token operator">:</span><span class="token string">&quot;xxx:cancel&quot;</span><span class="token punctuation">,</span>其中xxx为调用的接口名
    <span class="token literal-property property">调用失败时</span><span class="token operator">:</span>其值为具体错误信息
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token comment">// 接口调用示例</span>
<span class="token number">1.</span> wx<span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token comment">// 在完成config注入后要先调用ready再调用接口</span>
     wx<span class="token punctuation">.</span><span class="token function">updateAppMessageShareData</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token comment">// 分享</span>
        <span class="token literal-property property">desc</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 分享描述</span>
        <span class="token literal-property property">link</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 分享链接,该链接域名或路径必须与当前页面对应的公众号JS安全域名一致</span>
        <span class="token literal-property property">imgUrl</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 分享图标</span>
        <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 设置成功</span>
        <span class="token punctuation">}</span>
     <span class="token punctuation">}</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token number">2.</span> wx<span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token comment">// 在完成config注入后要先调用ready再调用接口</span>
      wx<span class="token punctuation">.</span><span class="token function">chooseImage</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token comment">// 选择图片</span>
        <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 默认9</span>
        <span class="token literal-property property">sizeType</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'original'</span><span class="token punctuation">,</span> <span class="token string">'compressed'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 可以指定是原图还是压缩图,默认二者都有</span>
        <span class="token literal-property property">sourceType</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'album'</span><span class="token punctuation">,</span> <span class="token string">'camera'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 可以指定来源是相册还是相机,默认二者都有</span>
        <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> localIds <span class="token operator">=</span> res<span class="token punctuation">.</span>localIds<span class="token punctuation">;</span> <span class="token comment">// 返回选定照片的本地ID列表,localId可以作为img标签的src属性显示图片</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token comment">// H5和小程序开发的区别</span>
<span class="token number">1.</span> <span class="token literal-property property">运行不同</span><span class="token operator">:</span>
    <span class="token constant">H5</span>运行在浏览器中<span class="token punctuation">,</span>小程序运行JSCode
<span class="token number">2.</span> <span class="token literal-property property">服务器不同</span><span class="token operator">:</span>
    <span class="token constant">H5</span>通过nginx等服务器访问<span class="token punctuation">,</span>小程序依托微信App
<span class="token number">3.</span> <span class="token literal-property property">Api不同</span><span class="token operator">:</span>
    <span class="token constant">H5</span>有<span class="token constant">DOM</span><span class="token operator">/</span><span class="token constant">BOM</span><span class="token punctuation">,</span>小程序没有<span class="token constant">DOM</span><span class="token operator">/</span><span class="token constant">BOM</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token comment">// 微信小程序授权流程,先登录再授权,两步操作分开</span>
<span class="token number">1.</span> 前端通过wx<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法获取code
<span class="token number">2.</span> 把code通过接口传给后端
<span class="token number">3.</span> <span class="token function">后端通过微信code2Session</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法获取openid、unionid、session_key即会话秘钥<span class="token punctuation">,</span>需要带上appid和secret和code
<span class="token number">4.</span> 如果要获取用户敏感信息如手机号等需要session_key进行解密<span class="token punctuation">,</span>其他的基本信息和<span class="token constant">H5</span>一样不需要解密 <span class="token comment">// 敏感信息是加密的</span>
<span class="token number">5.</span> 前端通过wx<span class="token punctuation">.</span>getUserInfo获取用户信息再通过接口把信息传给后端完成授权
    <span class="token function">获取用户信息</span><span class="token punctuation">(</span>明文、加密<span class="token punctuation">)</span><span class="token punctuation">,</span>需要用户授权 <span class="token comment">// 微信自带授权弹框</span>
    有wichCredentials参数<span class="token punctuation">,</span>如果为<span class="token boolean">true</span>时<span class="token punctuation">,</span>必须要求用户已登录否则拿不到信息
    为<span class="token boolean">false</span>时<span class="token punctuation">,</span>不需要登录<span class="token punctuation">,</span>但拿不到加密信息<span class="token punctuation">,</span>如果授权被拒绝则不会再显示触发授权
    如果要重新触发则需调用wx<span class="token punctuation">.</span><span class="token function">openSetting</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token number">6.</span> wx<span class="token punctuation">.</span>login <span class="token comment">// 不需要授权,静默登录,登录状态有时效性,多久失效由微信服务器决定</span>
<span class="token number">7.</span> wx<span class="token punctuation">.</span><span class="token function">openSetting</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 用户全部的授权记录,让用户重新授权</span>
<span class="token number">8.</span> 在新版的小程序中要想让用户授权必须使用button让用户点击引导授权
   通过wx<span class="token punctuation">.</span><span class="token function">getSetting</span><span class="token punctuation">(</span><span class="token punctuation">)</span>判断用户是否授权<span class="token punctuation">,</span>如果用户已经授权<span class="token punctuation">,</span>可以调用getUserInfo获取用户信息<span class="token punctuation">,</span>没授权则获取不到
<span class="token number">9.</span> 在使用授权button时<span class="token operator">&lt;</span>button open<span class="token operator">-</span>type<span class="token operator">=</span><span class="token string">&quot;getUserInfo&quot;</span> <span class="token literal-property property">bind</span><span class="token operator">:</span>getUserInfo<span class="token operator">=</span><span class="token string">&quot;方法名&quot;</span><span class="token operator">&gt;</span> <span class="token comment">// 通过方法名的event拿到用户信息</span>
<span class="token number">10.</span> 内置组件<span class="token operator">&lt;</span>open<span class="token operator">-</span>data<span class="token operator">&gt;</span>这个可以获取用户信息<span class="token punctuation">,</span>只在wxml中有用
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token comment">// 微信小程序分享</span>
<span class="token number">1.</span> 通过button的open<span class="token operator">-</span>type开发能力share即可实现按钮分享
<span class="token number">2.</span> <span class="token function">通过配置page生命周期的onShareAppMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法配置标题、图片等
<span class="token number">3.</span> 如果不配置则无法实现点击右上角三个点进行分享、分享的弹框的标题、图片是系统截取的
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token comment">// 订阅号微信认证特权</span>
<span class="token number">1.</span> 自定义菜单 <span class="token comment">// 可设置跳转外部链接, 设置纯文本消息</span>
<span class="token number">2.</span> 可使用部分开发接口
<span class="token number">3.</span> 可以申请广告主功能
<span class="token number">4.</span> 可以申请卡券功能
<span class="token number">5.</span> 可以申请多客服功能
<span class="token number">6.</span> 公众号头像及详细资料会显示加<span class="token constant">V</span>标识
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token comment">// 服务号微信认证特权</span>
<span class="token number">1.</span> 全部高级开发接口
<span class="token number">2.</span> 可以申请开通微信支付功能
<span class="token number">3.</span> 可以申请开通微信小店
<span class="token number">4.</span> 可以申请广告主功能
<span class="token number">5.</span> 可以申请卡券功能
<span class="token number">6.</span> 可以申请多客服功能
<span class="token number">7.</span> 公众号头像及详细资料会显示加<span class="token constant">V</span>标识
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token comment">// 微信支付认证</span>
<span class="token number">1.</span> 在公众号微信支付选择接入微信认证去注册商户号<span class="token punctuation">,</span> 完成接入
<span class="token number">2.</span> 在商户平台注册一个商户号<span class="token punctuation">,</span> 在商户平台填写appid实现关联公众号或小程序或App<span class="token punctuation">,</span> 完成接入
<span class="token number">3.</span> <span class="token constant">H5</span>在完成接入后需要在商户平台配置支付授权目录<span class="token punctuation">,</span> 目录是支付页面的上一级的路由<span class="token punctuation">,</span> 小程序不需要
    <span class="token literal-property property">如</span><span class="token operator">:</span> webchenjie<span class="token punctuation">.</span>cn<span class="token operator">/</span>a<span class="token operator">/</span>b <span class="token punctuation">,</span> b是支付页面<span class="token punctuation">,</span> 则授权目录是 webchnjie<span class="token punctuation">.</span>cn<span class="token operator">/</span>a
<span class="token number">4.</span> 在商户平台的账户中心的<span class="token constant">API</span>安全中设置密钥
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token comment">// 小程序支付流程</span>
<span class="token number">1.</span> <span class="token literal-property property">前端</span><span class="token operator">:</span>
        wx<span class="token punctuation">.</span><span class="token function">requestPayment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 微信API发起微信支付</span>
        <span class="token literal-property property">需要的参数</span><span class="token operator">:</span>
            timeStamp <span class="token comment">// 时间戳</span>
            nonceStr <span class="token comment">// 随机字符串</span>
            <span class="token keyword">package</span> <span class="token comment">// 后端调用微信统一下单接口返回的prepay_id的参数值, 格式是prepay_id='值'</span>
            signType <span class="token comment">// 签名算法</span>
            paySign <span class="token comment">// 签名, 此签名需要后端的prepay_id等数据拼接加密生成签名</span>
            success <span class="token comment">// 成功回调, requestPayment: ok 支付成功 / requestPayment: fail cancel 支付取消</span>
            fail <span class="token comment">// 失败回调</span>
            complete <span class="token comment">// 不管成功失败都会执行的回调</span>
<span class="token number">2.</span> <span class="token literal-property property">后端</span><span class="token operator">:</span>
        调用微信统一下单接口 <span class="token comment">// https://api.mch.winxin.qq.com/pay/unifiedorder</span>
        <span class="token literal-property property">调用的流程</span><span class="token operator">:</span>
            通过参数生成签名包括商户中心的app密钥
            组装<span class="token constant">XML</span>格式
            获取prepay_id
        <span class="token literal-property property">需要的参数</span><span class="token operator">:</span>
            参数有很多都需要拼接成xml格式进行调用
            有一个notify_url参数是通知地址即回调地址<span class="token punctuation">,</span> 微信会把支付结果通知到此参数的url中去<span class="token punctuation">,</span> 需要响应接收存入数据库完成支付操作
        <span class="token literal-property property">返回的结果</span><span class="token operator">:</span>
            返回的数据是<span class="token constant">XML</span>格式<span class="token punctuation">,</span> 需要通过插件转成json格式 <span class="token comment">// xml2js</span>
            <span class="token literal-property property">当报错时</span><span class="token operator">:</span>
                return_code <span class="token comment">// 返回状态码 有SUCCESS/FAIL 报错返回FAIL</span>
                return_msg <span class="token comment">// 返回信息 签名失败</span>
            <span class="token literal-property property">当成功时</span><span class="token operator">:</span>
                return_code <span class="token comment">// 返回状态码 有SUCCESS/FAIL 成功返回SUCCESS</span>
                result_code <span class="token comment">// 业务结果 有SUCCESS/FAIL 成功返回SUCCESS</span>
                其他返回值<span class="token operator">...</span>
            当return_code和result_code都是<span class="token constant">SUCCESS</span>时就会返回prepay_id <span class="token comment">// 前端需要的参数</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token number">1.</span> web<span class="token operator">-</span>view组件内嵌普通<span class="token constant">H5</span>只支持识别小程序码
<span class="token number">2.</span> web<span class="token operator">-</span>view组件内嵌公众号文章只支持识别小程序码和公众号二维码
<span class="token number">3.</span> 二维码<span class="token operator">/</span>小程序码图片不支持长按识别。仅在wx<span class="token punctuation">.</span>previewImage中支持长按识别
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token comment">// H5支付流程</span>
<span class="token number">1.</span> <span class="token literal-property property">前端</span><span class="token operator">:</span>
        wx<span class="token punctuation">.</span><span class="token function">chooseWXPay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 微信JS-SDK发起微信支付</span>
        <span class="token literal-property property">需要的参数</span><span class="token operator">:</span>
            timeStamp <span class="token comment">// 时间戳</span>
            nonceStr <span class="token comment">// 随机字符串</span>
            <span class="token keyword">package</span> <span class="token comment">// 后端调用微信统一下单接口返回的prepay_id的参数值, 格式是prepay_id='值'</span>
            signType <span class="token comment">// 签名算法</span>
            paySign <span class="token comment">// 签名, 此签名需要后端的prepay_id等数据拼接加密生成签名</span>
            success <span class="token comment">// 成功回调, chooseWXPay: ok 支付成功 / chooseWXPay: fail 支付取消</span>
            cancel <span class="token comment">// 取消回调</span>
            fail <span class="token comment">// 失败回调</span>
            complete <span class="token comment">// 不管成功失败都会执行的回调</span>
<span class="token number">2.</span> <span class="token literal-property property">后端</span><span class="token operator">:</span>
        调用微信统一下单接口 <span class="token comment">// https://api.mch.winxin.qq.com/pay/unifiedorder</span>
        <span class="token literal-property property">调用的流程</span><span class="token operator">:</span>
            通过参数生成签名包括商户中心的app密钥
            组装<span class="token constant">XML</span>格式
            获取prepay_id
        <span class="token literal-property property">需要的参数</span><span class="token operator">:</span>
            参数有很多都需要拼接成xml格式进行调用
            有一个notify_url参数是通知地址即回调地址<span class="token punctuation">,</span> 微信会把支付结果通知到此参数的url中去<span class="token punctuation">,</span> 需要响应接收存入数据库完成支付操作
        <span class="token literal-property property">返回的结果</span><span class="token operator">:</span>
            返回的数据是<span class="token constant">XML</span>格式<span class="token punctuation">,</span> 需要通过插件转成json格式 <span class="token comment">// xml2js</span>
            <span class="token literal-property property">当报错时</span><span class="token operator">:</span>
                return_code <span class="token comment">// 返回状态码 有SUCCESS/FAIL 报错返回FAIL</span>
                return_msg <span class="token comment">// 返回信息 签名失败</span>
            <span class="token literal-property property">当成功时</span><span class="token operator">:</span>
                return_code <span class="token comment">// 返回状态码 有SUCCESS/FAIL 成功返回SUCCESS</span>
                result_code <span class="token comment">// 业务结果 有SUCCESS/FAIL 成功返回SUCCESS</span>
                其他返回值<span class="token operator">...</span>
            当return_code和result_code都是<span class="token constant">SUCCESS</span>时就会返回prepay_id <span class="token comment">// 前端需要的参数</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br><span class="line-number">229</span><br><span class="line-number">230</span><br><span class="line-number">231</span><br><span class="line-number">232</span><br><span class="line-number">233</span><br><span class="line-number">234</span><br><span class="line-number">235</span><br><span class="line-number">236</span><br><span class="line-number">237</span><br><span class="line-number">238</span><br><span class="line-number">239</span><br><span class="line-number">240</span><br><span class="line-number">241</span><br><span class="line-number">242</span><br><span class="line-number">243</span><br><span class="line-number">244</span><br><span class="line-number">245</span><br><span class="line-number">246</span><br><span class="line-number">247</span><br><span class="line-number">248</span><br><span class="line-number">249</span><br><span class="line-number">250</span><br><span class="line-number">251</span><br><span class="line-number">252</span><br><span class="line-number">253</span><br><span class="line-number">254</span><br><span class="line-number">255</span><br><span class="line-number">256</span><br><span class="line-number">257</span><br><span class="line-number">258</span><br><span class="line-number">259</span><br><span class="line-number">260</span><br><span class="line-number">261</span><br><span class="line-number">262</span><br><span class="line-number">263</span><br><span class="line-number">264</span><br><span class="line-number">265</span><br><span class="line-number">266</span><br><span class="line-number">267</span><br><span class="line-number">268</span><br><span class="line-number">269</span><br><span class="line-number">270</span><br><span class="line-number">271</span><br><span class="line-number">272</span><br><span class="line-number">273</span><br><span class="line-number">274</span><br><span class="line-number">275</span><br><span class="line-number">276</span><br><span class="line-number">277</span><br><span class="line-number">278</span><br><span class="line-number">279</span><br><span class="line-number">280</span><br></div></div></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2025/4/21 14:46:47</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/docs/微信小程序/基础知识.html" class="prev">
          基础知识
        </a></span> <span class="next"><a href="/docs/性能优化/基础知识.html">
          基础知识
        </a></span></p></div> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:0;" data-v-b57cc07c data-v-7dd95ae2></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><!----><div class="reco-bgm-panel" data-v-b1d3339e><audio id="bgm" src="/music/bgm-飘向北方 - 那吾克热-NW,尤长靖.mp3" data-v-b1d3339e></audio> <div class="reco-float-box" style="bottom:50px;display:none;" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><img src="/music/bgm-飘向北方.png" data-v-b1d3339e></div> <div class="reco-bgm-box" style="bottom:20px;" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><div class="reco-bgm-cover" style="background-image:url(/music/bgm-飘向北方.png);" data-v-b1d3339e><div class="mini-operation" style="display:none;" data-v-b1d3339e><i class="reco-bgm reco-bgm-pause" style="display:none;" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-play" style="display:none;" data-v-b1d3339e></i></div> <div class="falut-message" style="display:none;" data-v-b1d3339e>
          播放失败
        </div></div> <div class="reco-bgm-info" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><div class="info-box" data-v-b1d3339e><i class="reco-bgm reco-bgm-music music" data-v-b1d3339e></i>飘向北方</div> <div class="info-box" data-v-b1d3339e><i class="reco-bgm reco-bgm-artist" data-v-b1d3339e></i>那吾克热-NW,尤长靖</div> <div class="reco-bgm-progress" data-v-b1d3339e><div class="progress-bar" data-v-b1d3339e><div class="bar" data-v-b1d3339e></div></div></div> <div class="reco-bgm-operation" data-v-b1d3339e><i class="reco-bgm reco-bgm-last last" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-pause pause" style="display:none;" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-play play" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-next next" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-volume1 volume" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-mute mute" style="display:none;" data-v-b1d3339e></i> <div class="volume-bar" data-v-b1d3339e><div class="bar" data-v-b1d3339e></div></div></div></div> <div class="reco-bgm-left-box" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><i class="reco-bgm reco-bgm-left" data-v-b1d3339e></i></div></div></div></div></div>
    <script src="/assets/js/app.5fc7dbbb.js" defer></script><script src="/assets/js/7.5a109060.js" defer></script><script src="/assets/js/2.ebde13fd.js" defer></script><script src="/assets/js/1.51b9cd7b.js" defer></script><script src="/assets/js/128.01354015.js" defer></script>
  </body>
</html>
