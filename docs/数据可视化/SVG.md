---
title: 数据可视化-SVG
date: 2025-8-7
tags:
    - 数据可视化
categories:
    - 技术
publish: false
---

```js
// SVG 简介
1. SVG 是 Scalable Vector Graphics 的缩写，即可伸缩矢量图形
2. 使用 XML 描述的矢量文件
    1. 什么是矢量文件？
        1. 矢量文件（Vector File）是一种基于数学公式（点、线、曲线和多边形）来描述图像的计算机图形文件格式。
        2. 核心特点
            1. 无限缩放
                1. 矢量图形通过数学公式渲染，无论放大多少倍都不会出现锯齿或失真，保持边缘清晰。
                2. 对比：位图放大后会模糊（例如照片放大后出现马赛克）。
            2. 由路径和锚点构成
                1. 图形由路径（线条、曲线）和锚点（控制路径的点）组成，可自由编辑形状、颜色和描边。
            3. 文件体积较小
                1. 存储的是数学数据而非像素，因此文件通常比同尺寸的位图更小（但复杂图形可能例外）。
            4. 易于编辑
                1. 可单独修改图形的每个部分（如改变颜色、调整形状），适合设计、Logo、图标等需要反复修改的场景。
3. 使用方式
    1. 浏览器直接打开
    2. 在 HTML 中使用 img 标签引用
    3. 直接在 HTML 中使用 SVG 标签
    4. 作为 CSS 背景
----------------------------------------------------------------------------------------------
// 单位
在 SVG 中，默认单位是「像素（px）」，但 SVG 的单位系统比普通 CSS 更灵活。以下是详细解释：
1. 默认单位（无单位时）
    当只写 width="100" 时：
    默认单位是 px（等同于 width="100px"）。
2. SVG 支持的所有单位
    你可以显式指定单位，支持以下类型：
    单位	示例	说明
    px	width="100px"	像素（默认单位）
    em	width="10em"	相对于当前字体大小
    ex	width="5ex"	相对于字母 "x" 的高度
    %	width="50%"	相对于父容器的宽度/高度
    cm	width="5cm"	厘米（基于 DPI 转换）
    mm	width="50mm"	毫米
    in	width="2in"	英寸（1in = 96px）
    pt	width="72pt"	点（1pt = 1/72 inch）
    pc	width="6pc"	派卡（1pc = 12pt）
3. 关键注意事项
    1. 百分比单位（%）：
    百分比的值是相对于父容器的尺寸。
    如果父容器未明确尺寸，百分比可能失效。
    2. 物理单位（cm/mm/in）：
    实际显示大小取决于设备的 DPI（每英寸像素数）。
    通常 1in = 96px（标准屏幕 DPI）。
4. 单位换算表
单位	换算为像素（px）
1in	96px
1cm	37.8px (≈96/2.54)
1mm	3.78px
1pt	1.33px (≈96/72)
1pc	16px (12pt = 16px)
----------------------------------------------------------------------------------------------
// 基本图形和属性
1. 基本图形
    1. rect 矩形
    2. circle 圆形
    3. ellipse 椭圆
    4. line 线
    5. polyline 折线
    6. polygon 多边形
2. 基本属性
    1. fill 填充颜色
    2. stroke 描边颜色
    3. stroke-width 描边宽度
    4. transform 变换
----------------------------------------------------------------------------------------------
// rect 矩形，有六个基本属性控制矩形在屏幕上的位置和形状
<rect x="60" y="10" rx="10" ry="10" width="30" height="30"/>
1. x 表示矩形左上角的 x 位置
2. y 表示矩形左上角的 y 位置
3. rx 表示矩形角的 x 半径 // Radius X（X 轴半径）
4. ry 表示矩形角的 y 半径 // Radius Y（Y 轴半径）
5. rx 属性的实际效果取决于矩形的 ry 属性和宽度：
    1. 如果你为 rx 属性指定了正确的值，但是没有定义 ry 属性的值，那么浏览器会让 ry 取 rx 属性被指定的相等的值。（反之亦然）
    2. 如果 rx 和 ry 都没有被正确的赋值，那么浏览器会绘制一个带有直角尖角的矩形。
    3. rx 属性的有效值为矩形宽度的一半（即，如果为 rx 指定的值大于矩形宽度的一半，那么浏览器会视为 rx 的值为矩形宽度的一半）。
    4. 四个角同时生效
    5. 圆心位置是根据 rx + ry 动态计算出来的
----------------------------------------------------------------------------------------------
// circle 圆形，它采用三个基本参数来确定元素的形状和大小
<circle cx="25" cy="75" r="20"/>
1. r 表示圆形的半径
2. cx 表示圆形中心的 x 位置 // Center X（圆心的 X 坐标）
3. cy 表示圆形中心的 y 位置 // Center Y（圆心的 Y 坐标）
----------------------------------------------------------------------------------------------
// ellipse 椭圆形，是圆形的扩展，可以分别缩放圆形的 x 和 y 半径
<ellipse cx="75" cy="75" rx="20" ry="5"/>
1. rx 表示椭圆的 x 半径
2. ry 表示椭圆的 y 半径
3. cx 表示椭圆中心的 x 位置
4. cy 表示椭圆中心的 y 位置
----------------------------------------------------------------------------------------------
// line 线条，将两个点的坐标作为参数，并在它们之间绘制一条直线
<line x1="10" x2="50" y1="110" y2="150" stroke="black" stroke-width="5"/>
1. x1 表示点 1 的 x 位置
2. y1 表示点 1 的 y 位置
3. x2 表示点 2 的 x 位置
4. y2 表示点 2 的 y 位置
----------------------------------------------------------------------------------------------
// polyline 折线，是一个连接的直线组。由于点的列表可能很长，因此所有点都包含在一个属性中
<polyline points="0 60, 0 0, 120 70"/>
1. points 表示点的列表。每个数字必须用空格、逗号、EOL 或带额外空格的行尾符分隔。
    每个点必须包含两个数字：x 坐标和 y 坐标。因此，列表 (0,0)、(1,1) 和 (2,2) 可以写成 0, 0 1, 1 2, 2。
----------------------------------------------------------------------------------------------
// polygon 类似于 polyline，因为它由连接一系列点的直线段组成。但对于多边形，路径会自动连接最后一个点与第一个点，形成一个封闭的形状。
// 矩形是一种多边形，因此可以使用多边形创建没有圆角的 <rect/> 元素
<polygon points="0 60, 0 0, 120 70"/>
1. points 表示点的列表，每个数字用空格、逗号、EOL 或带额外空格的行尾符分隔。每个点必须包含两个数字：x 坐标和 y 坐标。
    因此，列表 (0,0)、(1,1) 和 (2,2) 可以写成 0, 0 1, 1 2, 2。然后绘制会关闭路径，因此会从 (2,2) 到 (0,0) 绘制最后一条直线。
----------------------------------------------------------------------------------------------
// path 是 SVG 中最通用的形状。使用 path 元素，您可以绘制矩形（带或不带圆角）、圆形、椭圆、折线和多边形。基本上任何其他类型的形状、贝塞尔曲线、二次曲线等等。
<path d="M20,230 Q40,205 50,230 T90,230" fill="none" stroke="blue" stroke-width="5"/>
1. d 表示点的列表以及有关如何绘制路径的其他信息，大写是绝对坐标，小写是相对坐标
    - M（移动到）：指定一个新位置，但不绘制线条。 // Move To
    - L（直线到）：绘制一条直线到指定位置。 // Line To
    - H（水平线到）：绘制一条水平线到指定位置。
    - V（垂直线到）：绘制一条垂直线到指定位置。
    - Q（贝塞尔曲线）：二次贝塞尔曲线(一个控制点) // Quadratic Bézier
    - T（贝塞尔曲线）：简化的二次贝塞尔曲线(自动对称控制点)
    - C（贝塞尔曲线）：三次贝塞尔曲线(两个控制点) // Cubic Bézier
    - S（贝塞尔曲线）：简化的三次贝塞尔曲线(自动对称第二个控制点)
    - A（椭圆弧）：绘制一条弧线到指定位置。 // Elliptical Arc
2. 移动命令
M 命令用于移动到新的起点位置。例如，M10 10 将路径移动到坐标 (10, 10)。
<path d="M10 10 L20 20" fill="none" stroke="black"/>
3. 直线命令
L 命令用于绘制直线到指定位置。例如，L20 20 从当前位置绘制一条直线到坐标 (20, 20)。
<path d="M10 10 L20 20" fill="none" stroke="black"/>
4. 曲线命令
C 命令用于绘制贝塞尔曲线。它需要四个参数：控制点1的 x 和 y 坐标，控制点2的 x 和 y 坐标，以及终点坐标的 x 和 y 坐标。
例如，C10 10 20 20 30 30 将绘制一条贝塞尔曲线。
<path d="M10 10 C10 10 20 20 30 30" fill="none" stroke="black"/>
5. 弧线命令
A 命令用于绘制弧线。它需要多个参数，包括半径、大圆标志、小圆标志、旋转角度以及终点的 x 和 y 坐标。
例如，A100 100 0 0 1 0 将绘制一条弧线。
<path d="A100 100 0 0 1 0" fill="none" stroke="black"/>

// 重要说明
1. 多个相同命令可以省略命令字母：
    L 10,10 20,20 30,30 等同于 L 10,10 L 20,20 L 30,30
2. 坐标可以用空格或逗号分隔：
    M10,10 和 M 10 10 等效
3. 路径命令是顺序敏感的，必须按正确顺序书写
```
